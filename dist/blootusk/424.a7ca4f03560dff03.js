"use strict";(self.webpackChunkblootusk=self.webpackChunkblootusk||[]).push([[424],{6424:(Q,h,r)=>{r.r(h),r.d(h,{ReportsModule:()=>w});var m=r(6962),c=r(6895),_=r(9189),l=r(4006),T=r(8796),u=r(1366),M=r(6959),A=r(5226),p=r.n(A),Z=r(262),C=r(2843),t=r(4650),f=r(7668),b=r(6626),v=r(9957);function U(a,d){if(1&a&&(t.TgZ(0,"tbody")(1,"tr")(2,"td"),t._uU(3),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA()()()),2&a){const e=d.$implicit;t.xp6(3),t.Oqu(t.xi3(4,4,e.transactionDate,"dd/MM/yyyy")),t.xp6(3),t.Oqu(e.transaction),t.xp6(2),t.Oqu(e.points),t.xp6(2),t.Oqu(e.balPoint)}}function q(a,d){if(1&a){const e=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){const s=t.CHM(e).$implicit,i=t.oxw(2);return t.KtG(i.onPageChanged3(s))}),t._uU(1),t.qZA()}if(2&a){const e=d.$implicit,o=t.oxw(2);t.ekj("gridjs-currentPage",o.page===e),t.uIk("title","Page "+e)("aria-label","Page "+e),t.xp6(1),t.hij(" ",e," ")}}function S(a,d){if(1&a){const e=t.EpF();t.TgZ(0,"div",30)(1,"button",31),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onPageChanged3(n.page-1))}),t._uU(2," Previous "),t.qZA(),t.YNc(3,q,2,5,"button",32),t.TgZ(4,"button",33),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.onPageChanged3(n.page+1))}),t._uU(5," Next "),t.qZA()()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("disabled",1===e.page),t.xp6(2),t.Q6J("ngForOf",e.getPageNumbers3()),t.xp6(1),t.Q6J("disabled",e.page===e.getTotalPages3())}}let D=(()=>{class a{constructor(e,o,n,s,i,g){this.formBuilder=e,this.modalService=o,this.appService=n,this.route=s,this._authService=i,this.tokenStorage=g,this.page=1,this.count=10,this.StatementList=[],this.submitted=!1,this.SubmitMerchantStatementList()}get f(){return this.uploadForm.controls}ngOnInit(){}submit(){this.submitted=!0}SubmitMerchantStatementList(){let e={merchantCode:""==this.merchantCode?"":this.merchantCode,customerCode:this.customerCode=this.customerCode,fromDate:this.fromDate=this.fromDate,toDate:this.toDate=this.toDate};this.appService.Add("api/AdminDashbaord/MerchantStatement",e).pipe((0,Z.K)(o=>(0,C._)(o))).subscribe(o=>{console.log("MerStatement",o),this.merchantName=o.merchantName,this.StatementList=o.merchantTransactions,this.OpeningBal=o.openingBalance,console.log("Statementmerchant",o)})}getPageData(){let e;const o=(this.page-1)*this.count;return null!=this.StatementList&&(e=this.StatementList.slice(o,o+this.count)),e}onPageChanged3(e){this.page=e,window.scrollTo(0,0)}getPageNumbers3(){return Array.from({length:this.getTotalPages3()},(e,o)=>o+1)}getTotalPages3(){return Math.ceil(this.StatementList.length/this.count)}swalMessage(e){p().fire({title:e,icon:"info",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1})}ClearSearchdata(){this.merchantCode="",this.customerCode="",this.SubmitMerchantStatementList(),this.getPageData()}static#t=this.\u0275fac=function(o){return new(o||a)(t.Y36(l.qu),t.Y36(u.FF),t.Y36(f.z),t.Y36(m.gz),t.Y36(b.$),t.Y36(v.i))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-merchantstatement"]],decls:83,vars:10,consts:[[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","card-header-table","align-items-center","d-flex"],[1,"ri-honour-line","cardicon"],[1,"card-title","mb-0","flex-grow-1"],[1,"flex-shrink-0"],[1,"card-body"],[1,"live-preview"],[1,"row","mb-3"],[1,"col-md-4"],["for","basiInput",1,"form-label"],["type","text","placeholder","Enter Merchant Code",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Enter Customer Code",1,"form-control",3,"ngModel","ngModelChange"],["type","date","placeholder","Enter From Date",1,"form-control",3,"ngModel","ngModelChange"],["type","date","placeholder","Enter To Date",1,"form-control",3,"ngModel","ngModelChange"],[1,"mt-4","text-right","gap-1"],["type","button",1,"btn","btn-primary","ms-auto",3,"click"],[1,"ri-search-line","cardicon","label-icon","align-middle"],[1,"ri-refresh-line","cardicon","label-icon","align-middle"],["for","basiInput",1,"form-label","form-view"],[1,"table-responsive"],[1,"table","table-bordered","table-striped","align-middle","table-nowrap","mb-0"],[1,"table-light"],["scope","col"],[4,"ngFor","ngForOf"],[1,"text-center","mt-3"],[1,"gridjs-pagination"],["class","gridjs-pages",4,"ngIf"],[1,"gridjs-pages"],["tabindex","0","role","button","title","Previous","aria-label","Previous",3,"disabled","click"],["tabindex","0","role","button",3,"gridjs-currentPage","click",4,"ngFor","ngForOf"],["tabindex","0","role","button","title","Next","aria-label","Next",3,"disabled","click"],["tabindex","0","role","button",3,"click"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._UZ(5,"i",5),t.TgZ(6,"h4",6),t._uU(7,"Merchant Statement"),t.qZA(),t._UZ(8,"div",7),t.qZA(),t.TgZ(9,"div",8)(10,"div",9)(11,"div",3)(12,"div",8)(13,"div",10)(14,"div",11)(15,"div")(16,"label",12),t._uU(17,"Merchant Code"),t.qZA(),t.TgZ(18,"input",13),t.NdJ("ngModelChange",function(i){return n.merchantCode=i}),t.qZA()()(),t.TgZ(19,"div",11)(20,"div")(21,"label",12),t._uU(22,"Customer Code"),t.qZA(),t.TgZ(23,"input",14),t.NdJ("ngModelChange",function(i){return n.customerCode=i}),t.qZA()()()(),t.TgZ(24,"div",10)(25,"div",11)(26,"div")(27,"label",12),t._uU(28,"From Date"),t.qZA(),t.TgZ(29,"input",15),t.NdJ("ngModelChange",function(i){return n.fromDate=i}),t.qZA()()(),t.TgZ(30,"div",11)(31,"div")(32,"label",12),t._uU(33,"To Date"),t.qZA(),t.TgZ(34,"input",16),t.NdJ("ngModelChange",function(i){return n.toDate=i}),t.qZA()()(),t.TgZ(35,"div",11)(36,"div",17)(37,"button",18),t.NdJ("click",function(){return n.SubmitMerchantStatementList()}),t._UZ(38,"i",19),t._uU(39,"Search"),t.qZA(),t._uU(40," \xa0 "),t.TgZ(41,"button",18),t.NdJ("click",function(){return n.ClearSearchdata()}),t._UZ(42,"i",20),t._uU(43,"Clear"),t.qZA()()()()()(),t._UZ(44,"hr"),t.TgZ(45,"div",10)(46,"div",11)(47,"div")(48,"label",12),t._uU(49,"Merchant Name"),t.qZA(),t._UZ(50,"br"),t.TgZ(51,"label",21),t._uU(52),t.qZA()()(),t.TgZ(53,"div",11)(54,"div")(55,"label",12),t._uU(56,"Opening Balance"),t.qZA(),t._UZ(57,"br"),t.TgZ(58,"label",21),t._uU(59),t.qZA()()(),t.TgZ(60,"div",11)(61,"div")(62,"label",12),t._uU(63,"From & To Date"),t.qZA(),t._UZ(64,"br"),t.TgZ(65,"label",21),t._uU(66),t.qZA()()()(),t.TgZ(67,"div",22)(68,"table",23)(69,"thead",24)(70,"tr")(71,"th",25),t._uU(72,"Date"),t.qZA(),t.TgZ(73,"th",25),t._uU(74,"Transaction"),t.qZA(),t.TgZ(75,"th",25),t._uU(76,"Points"),t.qZA(),t.TgZ(77,"th",25),t._uU(78,"Balance Points"),t.qZA()()(),t.YNc(79,U,11,7,"tbody",26),t.qZA()(),t.TgZ(80,"div",27)(81,"div",28),t.YNc(82,S,6,3,"div",29),t.qZA()()()()()()()()),2&o&&(t.xp6(18),t.Q6J("ngModel",n.merchantCode),t.xp6(5),t.Q6J("ngModel",n.customerCode),t.xp6(6),t.Q6J("ngModel",n.fromDate),t.xp6(5),t.Q6J("ngModel",n.toDate),t.xp6(18),t.Oqu(n.merchantName),t.xp6(7),t.Oqu(n.OpeningBal),t.xp6(7),t.AsE(" ",n.fromDate," To ",n.toDate,""),t.xp6(13),t.Q6J("ngForOf",n.getPageData()),t.xp6(3),t.Q6J("ngIf",n.StatementList.length>0))},dependencies:[c.sg,c.O5,l.Fj,l.JJ,l.On,c.uU]})}return a})();var x=r(6788);function N(a,d){1&a&&(t.TgZ(0,"div"),t._uU(1,"CustomerCode is required"),t.qZA())}function J(a,d){if(1&a&&(t.TgZ(0,"div",30),t.YNc(1,N,2,0,"div",31),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.customerCode.errors.required)}}function y(a,d){1&a&&(t.TgZ(0,"div"),t._uU(1,"MerchantCode is required"),t.qZA())}function O(a,d){if(1&a&&(t.TgZ(0,"div",30),t.YNc(1,y,2,0,"div",31),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.f.merchantCode.errors.required)}}function P(a,d){if(1&a&&(t.TgZ(0,"tbody")(1,"tr")(2,"td"),t._uU(3),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA()()()),2&a){const e=d.$implicit;t.xp6(3),t.Oqu(t.xi3(4,4,e.transactionDate,"dd/MM/yyyy")),t.xp6(3),t.Oqu(e.transaction),t.xp6(2),t.Oqu(e.points),t.xp6(2),t.Oqu(e.balPoint)}}let F=(()=>{class a{constructor(e,o,n,s,i,g,Y,B){this.formBuilder=e,this.modalService=o,this.appService=n,this.route=s,this._authService=i,this.tokenStorage=g,this.router=Y,this.EncrDecr=B,this.page=1,this.count=10,this.StatementList=[],this.submitted=!1}get f(){return this.uploadForm.controls}ngOnInit(){this.uploadForm=this.formBuilder.group({merchantCode:new l.NI("",[]),customerCode:new l.NI("",[]),fromDate:new l.NI("",[]),toDate:new l.NI("",[])}),this.SubmitCustomerStatementList()}submit(){this.submitted=!0}getPageData(){let e;const o=(this.page-1)*this.count;return null!=this.StatementList&&(e=this.StatementList.slice(o,o+this.count)),e}SubmitCustomerStatementList(){let e={merchantCode:""==this.merchantCode?"":this.merchantCode,customerCode:this.customerCode=this.customerCode,fromDate:this.fromDate=this.fromDate,toDate:this.toDate=this.toDate};this.appService.Add("api/AdminDashbaord/Customerstatement",e).pipe((0,Z.K)(o=>(0,C._)(o))).subscribe(o=>{console.log("MerStatement",o),this.customerName=o.customerName,this.StatementList=o.customerTransactions,this.OpeningBal=o.openingBalance,console.log("Statement",o),console.log("StatementList",this.StatementList)})}ClearSearchdata(){this.merchantCode="",this.customerCode="",this.SubmitCustomerStatementList(),this.getPageData()}onPageChanged3(e){this.page=e,window.scrollTo(0,0)}getPageNumbers3(){return Array.from({length:this.getTotalPages3()},(e,o)=>o+1)}getTotalPages3(){return Math.ceil(this.StatementList.length/this.count)}swalMessage(e){p().fire({title:e,icon:"info",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1})}static#t=this.\u0275fac=function(o){return new(o||a)(t.Y36(l.qu),t.Y36(u.FF),t.Y36(f.z),t.Y36(m.gz),t.Y36(b.$),t.Y36(v.i),t.Y36(m.F0),t.Y36(x.z))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-customerstatement"]],decls:84,vars:11,consts:[[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header","card-header-table","align-items-center","d-flex"],[1,"ri-honour-line","cardicon"],[1,"card-title","mb-0","flex-grow-1"],[1,"flex-shrink-0"],[1,"card-body"],[1,"live-preview"],[1,"row","mb-3"],[1,"col-md-4"],["for","basiInput",1,"form-label"],["type","text","placeholder","Enter Customer Code",1,"form-control",3,"ngModel","ngModelChange"],["class","invalid-feedback d-block",4,"ngIf"],["type","text","placeholder","Enter Merchant Code",1,"form-control",3,"ngModel","ngModelChange"],["type","date","placeholder","Enter From Date",1,"form-control",3,"ngModel","ngModelChange"],["type","date","placeholder","Enter To Date",1,"form-control",3,"ngModel","ngModelChange"],[1,"mt-4","text-right","gap-1"],["type","button",1,"btn","btn-primary","ms-auto",3,"click"],[1,"ri-search-line","cardicon","label-icon","align-middle"],[1,"ri-refresh-line","cardicon","label-icon","align-middle"],["for","basiInput",1,"form-label","form-view"],[1,"table-responsive"],[1,"table","table-bordered","table-striped","align-middle","table-nowrap","mb-0"],[1,"table-light"],["scope","col"],[4,"ngFor","ngForOf"],[1,"text-center","mt-3"],[1,"gridjs-pagination"],[1,"invalid-feedback","d-block"],[4,"ngIf"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._UZ(5,"i",5),t.TgZ(6,"h4",6),t._uU(7,"Customer Statement"),t.qZA(),t._UZ(8,"div",7),t.qZA(),t.TgZ(9,"div",8)(10,"div",9)(11,"div",3)(12,"div",8)(13,"div",10)(14,"div",11)(15,"div")(16,"label",12),t._uU(17,"Customer Code"),t.qZA(),t.TgZ(18,"input",13),t.NdJ("ngModelChange",function(i){return n.customerCode=i}),t.qZA(),t.YNc(19,J,2,1,"div",14),t.qZA()(),t.TgZ(20,"div",11)(21,"div")(22,"label",12),t._uU(23,"Merchant Code"),t.qZA(),t.TgZ(24,"input",15),t.NdJ("ngModelChange",function(i){return n.merchantCode=i}),t.qZA(),t.YNc(25,O,2,1,"div",14),t.qZA()()(),t.TgZ(26,"div",10)(27,"div",11)(28,"div")(29,"label",12),t._uU(30,"From Date"),t.qZA(),t.TgZ(31,"input",16),t.NdJ("ngModelChange",function(i){return n.fromDate=i}),t.qZA()()(),t.TgZ(32,"div",11)(33,"div")(34,"label",12),t._uU(35,"To Date"),t.qZA(),t.TgZ(36,"input",17),t.NdJ("ngModelChange",function(i){return n.toDate=i}),t.qZA()()(),t.TgZ(37,"div",11)(38,"div",18)(39,"button",19),t.NdJ("click",function(){return n.SubmitCustomerStatementList()}),t._UZ(40,"i",20),t._uU(41,"Search"),t.qZA(),t._uU(42," \xa0 "),t.TgZ(43,"button",19),t.NdJ("click",function(){return n.ClearSearchdata()}),t._UZ(44,"i",21),t._uU(45,"Clear"),t.qZA()()()()()(),t._UZ(46,"hr"),t.TgZ(47,"div",10)(48,"div",11)(49,"div")(50,"label",12),t._uU(51,"Customer Name"),t.qZA(),t._UZ(52,"br"),t.TgZ(53,"label",22),t._uU(54),t.qZA()()(),t.TgZ(55,"div",11)(56,"div")(57,"label",12),t._uU(58,"Opening Balance"),t.qZA(),t._UZ(59,"br"),t.TgZ(60,"label",22),t._uU(61),t.qZA()()(),t.TgZ(62,"div",11)(63,"div")(64,"label",12),t._uU(65,"From & To Date"),t.qZA(),t._UZ(66,"br"),t.TgZ(67,"label",22),t._uU(68),t.qZA()()()(),t.TgZ(69,"div",23)(70,"table",24)(71,"thead",25)(72,"tr")(73,"th",26),t._uU(74,"Date"),t.qZA(),t.TgZ(75,"th",26),t._uU(76,"Transaction"),t.qZA(),t.TgZ(77,"th",26),t._uU(78,"Points"),t.qZA(),t.TgZ(79,"th",26),t._uU(80,"Balance Points"),t.qZA()()(),t.YNc(81,P,11,7,"tbody",27),t.qZA()(),t.TgZ(82,"div",28),t._UZ(83,"div",29),t.qZA()()()()()()()),2&o&&(t.xp6(18),t.Q6J("ngModel",n.customerCode),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.f.customerCode.errors),t.xp6(5),t.Q6J("ngModel",n.merchantCode),t.xp6(1),t.Q6J("ngIf",n.submitted&&n.f.merchantCode.errors),t.xp6(6),t.Q6J("ngModel",n.fromDate),t.xp6(5),t.Q6J("ngModel",n.toDate),t.xp6(18),t.Oqu(n.customerName),t.xp6(7),t.Oqu(n.OpeningBal),t.xp6(7),t.AsE("",n.fromDate," To ",n.toDate,""),t.xp6(13),t.Q6J("ngForOf",n.getPageData()))},dependencies:[c.sg,c.O5,l.Fj,l.JJ,l.On,c.uU]})}return a})();var L=r(4333),I=r(6362);const k=[{path:"merchantstatement",component:D},{path:"customerstatement",component:F}];let w=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275mod=t.oAB({type:a});static#n=this.\u0275inj=t.cJS({imports:[c.ez,T.A0,u.Oz,_.O,m.Bz.forChild(k),l.u5,L.JX,l.u5,I.JT,l.UX,u.IJ,M.d,m.Bz]})}return a})()}}]);
"use strict";(self.webpackChunkblootusk=self.webpackChunkblootusk||[]).push([[324],{9390:(nt,O,d)=>{d.r(O),d.d(O,{AccountModule:()=>I});var f=d(6895),r=d(4006),S=d(1366),Y=d(9189),B=d(141),H=d(4487),J=d.n(H),u=d(9197),Q=d(5226),p=d.n(Q),Z=d(262),N=d(2843),e=d(4650),k=d(9957),L=d(1745);class _{constructor(){this.toasts=[]}show(i,t={}){this.toasts.push({textOrTpl:i,...t})}remove(i){this.toasts=this.toasts.filter(t=>t!==i)}static#e=this.\u0275fac=function(t){return new(t||_)};static#t=this.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"})}function j(n,i){}function V(n,i){if(1&n&&e.YNc(0,j,0,0,"ng-template",4),2&n){const t=e.oxw().$implicit;e.Q6J("ngTemplateOutlet",t.textOrTpl)}}function G(n,i){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit;e.Oqu(t.textOrTpl)}}function W(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"ngb-toast",1),e.NdJ("hidden",function(){const l=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.toastService.remove(l))}),e.YNc(1,V,1,1,"ng-template",2),e.YNc(2,G,1,1,"ng-template",null,3,e.W1O),e.qZA()}if(2&n){const t=i.$implicit,a=e.MAs(3),o=e.oxw();e.Tol(t.classname),e.Q6J("autohide",!0)("delay",t.delay||5e3),e.xp6(1),e.Q6J("ngIf",o.isTemplate(t))("ngIfElse",a)}}class x{constructor(i){this.toastService=i}isTemplate(i){return i.textOrTpl instanceof e.Rgc}static#e=this.\u0275fac=function(t){return new(t||x)(e.Y36(_))};static#t=this.\u0275cmp=e.Xpm({type:x,selectors:[["app-toasts"]],hostAttrs:[1,"toast-container","position-fixed","top-0","end-0","p-3",2,"z-index","1200"],decls:1,vars:1,consts:[[3,"class","autohide","delay","hidden",4,"ngFor","ngForOf"],[3,"autohide","delay","hidden"],[3,"ngIf","ngIfElse"],["text",""],[3,"ngTemplateOutlet"]],template:function(t,a){1&t&&e.YNc(0,W,4,6,"ngb-toast",0),2&t&&e.Q6J("ngForOf",a.toastService.toasts)},dependencies:[f.sg,f.O5,f.tP,S.Iv],encapsulation:2})}function X(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function $(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Please enter valid Email "),e.qZA())}function K(n,i){if(1&n&&(e.TgZ(0,"div",42),e.YNc(1,X,2,0,"div",43),e.YNc(2,$,2,0,"div",43),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.email.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.email.errors.pattern)}}function ee(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Password is required"),e.qZA())}function te(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Password at least 6 digits long"),e.qZA())}function ie(n,i){if(1&n&&(e.TgZ(0,"div",42),e.YNc(1,ee,2,0,"div",43),e.YNc(2,te,2,0,"div",43),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.password.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.password.errors.minlength)}}const D=function(n){return{"is-invalid":n}},ne=function(n,i){return{"mdi-eye-off-outline":n,"mdi-eye-outline":i}};class v{constructor(i,t,a,o){this.router=i,this.tokenStorage=t,this._authService=a,this._router=o,this.hide=!0,this.isLoggedIn=!1,this.toggle=!0,this.submitted=!1,this.error="",this.emailExistsError=null,this.year=(new Date).getFullYear(),this.validateControl=l=>this.loginForm.controls[l].invalid&&this.loginForm.controls[l].touched,this.hasError=(l,s)=>this.loginForm.controls[l].hasError(s),this.loginUser=l=>{this.submitted=!0;const s={...l},c={username:s.email,password:s.password,deviceID:s.deviceID,deviceOS:s.deviceOS};this.loginForm.valid&&(console.log("test",c),this._authService.loginUser("api/Authenticate/AdminLogin",c).pipe((0,Z.K)(m=>(this.warningmsg(),(0,N._)(m)))).subscribe(m=>{console.log("token data==",m),null!=m.responseData.token?(this.tokenStorage.saveToken(m.responseData.token),this.tokenStorage.saveUser(m.responseData),this.isLoggedIn=!0,this._authService.sendAuthStateChangeNotification(m.responseMessage),this._router.routeReuseStrategy.shouldReuseRoute=()=>!1,this._router.onSameUrlNavigation="reload",this.router.navigate(["../dashboards/dashboard"])):this.warningmsg()}))}}ngOnInit(){this.loginForm=new r.cw({email:new r.NI("",[r.kI.required]),password:new r.NI("",[r.kI.required,r.kI.minLength(6)])}),this.tokenStorage.getToken()&&(this.isLoggedIn=!0,this.roleId=this.tokenStorage.getUser().roleId,this.userId=this.tokenStorage.getUser().userId,this._router.routeReuseStrategy.shouldReuseRoute=()=>!1,this._router.onSameUrlNavigation="reload")}get f(){return this.loginForm.controls}warningUser(){p().fire({title:"Warning",text:"User Dashboard Currently Not Available",icon:"warning",confirmButtonColor:"#364574",cancelButtonColor:"rgb(243, 78, 78)",confirmButtonText:"OK"})}warningManager(){p().fire({title:"Warning",text:"Manager Dashboard Currently Not Available",icon:"warning",confirmButtonColor:"#364574",cancelButtonColor:"rgb(243, 78, 78)",confirmButtonText:"OK"})}warningmsg(){p().fire({title:"Warning",text:"Please Enter Valid Login Credentials",icon:"warning",confirmButtonColor:"#364574",cancelButtonColor:"rgb(243, 78, 78)",confirmButtonText:"OK"})}toggleFieldTextType(){this.fieldTextType=!this.fieldTextType}blockSpaces(i){" "===i.key&&i.preventDefault()}static#e=this.\u0275fac=function(t){return new(t||v)(e.Y36(u.F0),e.Y36(k.i),e.Y36(L.$),e.Y36(u.F0))};static#t=this.\u0275cmp=e.Xpm({type:v,selectors:[["app-login"]],decls:58,vars:15,consts:[[1,"auth-page-wrapper","pt-3"],["id","auth-particles",1,"auth-one-bg-position","auth-one-bg"],[1,"bg-overlay"],[1,"shape"],["xmlns","http://www.w3.org/2000/svg","version","1.1",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 1440 120"],["d","M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z"],[1,"auth-page-content"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"text-center","mt-sm-1","text-white-50"],["href","",1,"d-inline-block","auth-logo","authlogo"],["src","assets/images/logo.png","alt","","height","100",2,"border-radius","10px"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6","col-xl-5"],[1,"card","mt-4","mgrb0"],[1,"card-body","p-4"],[1,"text-center","mt-2"],[1,"text-primary"],[1,"text-muted"],[1,"p-2","mt-4"],["fxLayout","row wrap",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","username",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter email","pattern","^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",1,"form-control",3,"ngClass","keypress"],["class","invalid-feedback",4,"ngIf"],["for","password-input",1,"form-label"],[1,"position-relative","auth-pass-inputgroup","mb-3"],["placeholder","Enter password","id","password-input","formControlName","password","minlength","6",1,"form-control","pe-5",3,"type","ngClass"],["type","button","id","password-addon",1,"btn","btn-link","position-absolute","end-0","top-0","text-decoration-none","text-muted","btn-eye"],[1,"mdi","align-middle","pass-eye",3,"ngClass","click"],[1,"form-check"],["type","checkbox","value","","id","auth-remember-check",1,"form-check-input"],["for","auth-remember-check",1,"form-check-label"],[1,"float-end"],["routerLink","../forgotpassword",1,"text-muted"],[1,"mt-4"],["type","submit",1,"btn","btn-success","w-100"],[1,"footer"],[1,"text-center"],[1,"mb-0","text-muted"],["aria-live","polite","aria-atomic","true"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"path",5),e.qZA()()(),e.kcU(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div")(12,"a",11),e._UZ(13,"img",12),e.qZA()()()()(),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"div",16)(18,"div",17)(19,"h5",18),e._uU(20,"Welcome !"),e.qZA(),e.TgZ(21,"p",19),e._uU(22,"Sign in to continue."),e.qZA()(),e.TgZ(23,"div",20)(24,"form",21),e.NdJ("ngSubmit",function(){return a.loginUser(a.loginForm.value)}),e.TgZ(25,"div",22)(26,"label",23),e._uU(27,"Email"),e.qZA(),e.TgZ(28,"input",24),e.NdJ("keypress",function(l){return a.blockSpaces(l)}),e.qZA(),e.YNc(29,K,3,2,"div",25),e.qZA(),e.TgZ(30,"div",22)(31,"label",26),e._uU(32,"Password"),e.qZA(),e.TgZ(33,"div",27),e._UZ(34,"input",28),e.TgZ(35,"button",29)(36,"i",30),e.NdJ("click",function(){return a.toggleFieldTextType()}),e.qZA()(),e.YNc(37,ie,3,2,"div",25),e.qZA()(),e.TgZ(38,"div",31),e._UZ(39,"input",32),e.TgZ(40,"label",33),e._uU(41,"Remember me"),e.qZA(),e.TgZ(42,"div",34)(43,"a",35),e._uU(44,"Forgot password?"),e.qZA()()(),e.TgZ(45,"div"),e._uU(46),e.qZA(),e.TgZ(47,"div",36)(48,"button",37),e._uU(49,"Sign In"),e.qZA()()()()()()()()()(),e.TgZ(50,"footer",38)(51,"div",7)(52,"div",8)(53,"div",9)(54,"div",39)(55,"p",40),e._uU(56,"\xa9 2023 BlooTusk. "),e.qZA()()()()()()(),e._UZ(57,"app-toasts",41)),2&t&&(e.xp6(24),e.Q6J("formGroup",a.loginForm),e.xp6(4),e.Q6J("ngClass",e.VKq(8,D,a.submitted&&a.f.email.errors)),e.xp6(1),e.Q6J("ngIf",a.submitted&&a.f.email.errors),e.xp6(5),e.Q6J("type",a.fieldTextType?"text":"password")("ngClass",e.VKq(10,D,a.submitted&&a.f.password.errors)),e.xp6(2),e.Q6J("ngClass",e.WLB(12,ne,!a.fieldTextType,a.fieldTextType)),e.xp6(1),e.Q6J("ngIf",a.submitted&&a.f.password.errors),e.xp6(9),e.Oqu(a.emailExistsError))},dependencies:[f.mk,f.O5,r._Y,r.Fj,r.JJ,r.JL,r.wO,r.c5,r.sg,r.u,u.rH,x],styles:[".form-control.is-invalid[_ngcontent-%COMP%]{background-image:none!important}"]})}class b{constructor(i,t,a){this._authService=i,this.formBuilder=t,this._router=a}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",r.kI.compose([r.kI.required])]},{})}forgotUser(i){this.loginForm.valid&&this._authService.forgotUser(`api/User/ForgetPassword?email=${this.loginForm.value.email}`,{}).subscribe(t=>{const o=JSON.parse(t).message;"Email not found. Plese check."==o?this.warningmsg():"You have sent link on your email Please check."==o&&(this.successmsg(),this._router.navigate(["/auth/login"]))})}warningmsg(){p().fire({title:"Warning",text:"Please Enter Registered Email",icon:"warning",confirmButtonColor:"#364574",cancelButtonColor:"rgb(243, 78, 78)",confirmButtonText:"OK"})}successmsg(){p().fire({title:"Password Request Send Successfully",icon:"success",confirmButtonColor:"#364574",cancelButtonColor:"rgb(243, 78, 78)",confirmButtonText:"OK"})}static#e=this.\u0275fac=function(t){return new(t||b)(e.Y36(L.$),e.Y36(r.qu),e.Y36(u.F0))};static#t=this.\u0275cmp=e.Xpm({type:b,selectors:[["app-forgotpassword"]],decls:39,vars:0,consts:[[1,"auth-page-wrapper","pt-5"],["id","auth-particles",1,"auth-one-bg-position","auth-one-bg"],[1,"bg-overlay"],[1,"shape"],["xmlns","http://www.w3.org/2000/svg","version","1.1",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 1440 120"],["d","M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z"],[1,"auth-page-content"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"text-center","mt-sm-1","mb-4","text-white-50"],["href","",1,"d-inline-block","auth-logo","authlogo"],["src","assets/images/logo.png","alt","","height","100",2,"border-radius","10px"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6","col-xl-5"],[1,"card","mt-4"],[1,"card-body","p-4"],[1,"text-center","mt-2"],[1,"text-primary"],["role","alert",1,"alert","alert-borderless","alert-warning","text-center","mb-2","mx-2"],[1,"p-2"],[1,"mb-4"],[1,"form-label"],["type","email","id","email","placeholder","Enter Email","formControlName","email",1,"form-control"],[1,"text-center","mt-4"],["type","submit",1,"btn","btn-primary","w-100"],[1,"footer"],[1,"text-center"],[1,"mb-0","text-muted"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"path",5),e.qZA()()(),e.kcU(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div")(12,"a",11),e._UZ(13,"img",12),e.qZA()()()()(),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"div",16)(18,"div",17)(19,"h5",18),e._uU(20,"Forgot Password?"),e.qZA()(),e.TgZ(21,"div",19),e._uU(22," Enter your registered email id to reset your password! "),e.qZA(),e.TgZ(23,"div",20)(24,"form")(25,"div",21)(26,"label",22),e._uU(27,"Email"),e.qZA(),e._UZ(28,"input",23),e.qZA(),e.TgZ(29,"div",24)(30,"button",25),e._uU(31,"Next"),e.qZA()()()()()()()()()(),e.TgZ(32,"footer",26)(33,"div",7)(34,"div",8)(35,"div",9)(36,"div",27)(37,"p",28),e._uU(38,"\xa9 2023 Blootusk. "),e.qZA()()()()()()())}})}class y{constructor(){this.submitted=!1,this.error="",this.year=(new Date).getFullYear()}togglepasswordField(){this.passwordField=!this.passwordField}toggleconfirmField(){this.confirmField=!this.confirmField}static#e=this.\u0275fac=function(t){return new(t||y)};static#t=this.\u0275cmp=e.Xpm({type:y,selectors:[["app-changepassword"]],decls:51,vars:2,consts:[[1,"auth-page-wrapper","pt-3"],["id","auth-particles",1,"auth-one-bg-position","auth-one-bg"],[1,"bg-overlay"],[1,"shape"],["xmlns","http://www.w3.org/2000/svg","version","1.1",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 1440 120"],["d","M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z"],[1,"auth-page-content"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"text-center","mt-sm-1","mb-4","text-white-50"],["href","",1,"d-inline-block","auth-logo","authlogo"],["src","assets/images/logo.png","alt","","height","100",2,"border-radius","10px"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6","col-xl-5"],[1,"card","mt-4"],[1,"card-body","p-4"],[1,"text-center","mt-2"],[1,"text-primary"],[1,"p-2"],[1,"mb-3"],["for","password-input",1,"form-label"],[1,"position-relative","auth-pass-inputgroup"],["placeholder","Enter password","id","password-input","aria-describedby","passwordInput","pattern","(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}","required","","formControlName","password",1,"form-control","pe-5","password-input",3,"type"],["type","button","id","password-addon",1,"btn","btn-link","position-absolute","end-0","top-0","text-decoration-none","text-muted","password-addon"],[1,"ri-eye-fill","align-middle",3,"click"],["for","confirm-password-input",1,"form-label"],[1,"position-relative","auth-pass-inputgroup","mb-3"],["placeholder","Confirm password","pattern","(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}","id","confirm-password-input","required","","formControlName","cpassword",1,"form-control","pe-5","password-input",3,"type"],["type","button","id","confirm-password-input",1,"btn","btn-link","position-absolute","end-0","top-0","text-decoration-none","text-muted","password-addon"],[1,"form-check"],["type","checkbox","value","","id","auth-remember-check",1,"form-check-input"],["for","auth-remember-check",1,"form-check-label"],[1,"mt-4"],["type","submit",1,"btn","btn-primary","w-100"],[1,"footer"],[1,"text-center"],[1,"mb-0","text-muted"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"path",5),e.qZA()()(),e.kcU(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div")(12,"a",11),e._UZ(13,"img",12),e.qZA()()()()(),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"div",16)(18,"div",17)(19,"h5",18),e._uU(20,"Create New Password"),e.qZA()(),e.TgZ(21,"div",19)(22,"form")(23,"div",20)(24,"label",21),e._uU(25,"Password"),e.qZA(),e.TgZ(26,"div",22),e._UZ(27,"input",23),e.TgZ(28,"button",24)(29,"i",25),e.NdJ("click",function(){return a.togglepasswordField()}),e.qZA()()()(),e.TgZ(30,"div",20)(31,"label",26),e._uU(32,"Confirm Password"),e.qZA(),e.TgZ(33,"div",27),e._UZ(34,"input",28),e.TgZ(35,"button",29)(36,"i",25),e.NdJ("click",function(){return a.toggleconfirmField()}),e.qZA()()()(),e.TgZ(37,"div",30),e._UZ(38,"input",31),e.TgZ(39,"label",32),e._uU(40,"Remember me"),e.qZA()(),e.TgZ(41,"div",33)(42,"button",34),e._uU(43,"Reset Password"),e.qZA()()()()()()()()()(),e.TgZ(44,"footer",35)(45,"div",7)(46,"div",8)(47,"div",9)(48,"div",36)(49,"p",37),e._uU(50,"\xa9 2023 Blootusk. "),e.qZA()()()()()()()),2&t&&(e.xp6(27),e.Q6J("type",a.passwordField?"text":"password"),e.xp6(7),e.Q6J("type",a.confirmField?"text":"password"))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.c5,r.u,r.F]})}class re{static match(i,t){return a=>{const o=a.get(i),l=a.get(t);return l?.errors&&!l.errors.matching?null:o?.value!==l?.value?(a.get(t)?.setErrors({matching:!0}),{matching:!0}):null}}}var P=d(7668),q=d(6626);function oe(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Merchant Name is required"),e.qZA())}function ae(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Merchant Name least 3 char long "),e.qZA())}function le(n,i){if(1&n&&(e.TgZ(0,"div",60),e.YNc(1,oe,2,0,"div",61),e.YNc(2,ae,2,0,"div",61),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.organizationName.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.organizationName.errors.minlength)}}function de(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Phone No. is required "),e.qZA())}function se(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Phone enter valid Mobile No."),e.qZA())}function ce(n,i){if(1&n&&(e.TgZ(0,"div",60),e.YNc(1,de,2,0,"div",61),e.YNc(2,se,2,0,"div",61),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.phoneNumber.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.phoneNumber.errors.minlength)}}function me(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function fe(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Please enter valid Email "),e.qZA())}function ue(n,i){if(1&n&&(e.TgZ(0,"div",60),e.YNc(1,me,2,0,"div",61),e.YNc(2,fe,2,0,"div",61),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.email.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.email.errors.pattern)}}function pe(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Contact Person Name is required"),e.qZA())}function he(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Contact Person least 3 char long "),e.qZA())}function ge(n,i){if(1&n&&(e.TgZ(0,"div",60),e.YNc(1,pe,2,0,"div",61),e.YNc(2,he,2,0,"div",61),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.contactPersonName.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.contactPersonName.errors.minlength)}}function _e(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Password is required"),e.qZA())}function xe(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Password at least 6 digits long"),e.qZA())}function ve(n,i){if(1&n&&(e.TgZ(0,"div",60),e.YNc(1,_e,2,0,"div",61),e.YNc(2,xe,2,0,"div",61),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.password.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.password.errors.minlength)}}function be(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Password is required"),e.qZA())}function ye(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1," Confirm Password does not matchsss "),e.qZA())}function we(n,i){if(1&n&&(e.TgZ(0,"div",60),e.YNc(1,be,2,0,"div",61),e.YNc(2,ye,2,0,"div",61),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.confirmPassword.errors?null:t.f.confirmPassword.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.f.confirmPassword.errors?null:t.f.confirmPassword.errors.matching)}}function Te(n,i){if(1&n&&(e.TgZ(0,"option",62),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t.categoryId),e.xp6(1),e.hij(" ",t.categoryName," ")}}function Ce(n,i){if(1&n&&(e.TgZ(0,"option",62),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t.stateId),e.xp6(1),e.hij(" ",t.stateName," ")}}function Fe(n,i){if(1&n&&(e.TgZ(0,"option",62),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t.countryId),e.xp6(1),e.hij(" ",t.countryName," ")}}const h=function(n){return{"is-invalid":n}},U=function(n,i){return{"mdi-eye-off-outline":n,"mdi-eye-outline":i}};function Ae(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22)(4,"h5",23),e._uU(5,"Signup Here!"),e.qZA()(),e.TgZ(6,"div",24)(7,"div",25)(8,"form",26),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createMerchant(o.uploadForm.value))}),e.TgZ(9,"div",8)(10,"div",27)(11,"div",28),e._UZ(12,"i",29),e._uU(13," \xa0 "),e.TgZ(14,"label",30)(15,"h6",31),e._uU(16,"Merchant Details"),e.qZA()()()()(),e.TgZ(17,"div",32)(18,"div",19)(19,"div")(20,"label",33),e._uU(21,"Merchant (Organization) Name "),e.qZA(),e._UZ(22,"input",34),e.YNc(23,le,3,2,"div",35),e.qZA()(),e.TgZ(24,"div",36)(25,"div")(26,"label",33),e._uU(27,"Mobile No. "),e.qZA(),e.TgZ(28,"input",37),e.NdJ("keypress",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.keyPressOnlynum(o))})("keypress",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.blockSpaces(o))}),e.qZA(),e.YNc(29,ce,3,2,"div",35),e.qZA()()(),e.TgZ(30,"div",32)(31,"div",38)(32,"div")(33,"label",39),e._uU(34,"Email Id"),e.qZA(),e.TgZ(35,"div",40)(36,"input",41),e.NdJ("keypress",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.blockSpaces(o))}),e.qZA(),e.YNc(37,ue,3,2,"div",35),e._UZ(38,"i",42),e.qZA()()(),e.TgZ(39,"div",38)(40,"div")(41,"label",33),e._uU(42,"Contact Person Name "),e.qZA(),e.TgZ(43,"input",43),e.NdJ("keypress",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.keyPressOnlyChar(o))}),e.qZA(),e.YNc(44,ge,3,2,"div",35),e.qZA()()(),e.TgZ(45,"div",32)(46,"div",38)(47,"div")(48,"label",33),e._uU(49,"Password"),e.qZA(),e.TgZ(50,"div",44),e._UZ(51,"input",45),e.TgZ(52,"button",46)(53,"i",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleFieldTextType1())}),e.qZA()(),e.YNc(54,ve,3,2,"div",35),e.qZA()()(),e.TgZ(55,"div",38)(56,"div")(57,"label",33),e._uU(58,"Confirm Password"),e.qZA(),e.TgZ(59,"div",44),e._UZ(60,"input",48),e.TgZ(61,"button",46)(62,"i",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.toggleFieldTextType1())}),e.qZA()(),e.YNc(63,we,3,2,"div",35),e.qZA()()()(),e._UZ(64,"hr"),e.TgZ(65,"div",8)(66,"div",27)(67,"div",28),e._UZ(68,"i",29),e._uU(69," \xa0 "),e.TgZ(70,"label",30)(71,"h6",31),e._uU(72,"POS Details"),e.qZA()()()()(),e.TgZ(73,"div",49)(74,"div",32)(75,"div",19)(76,"div")(77,"label",33),e._uU(78,"POS Name "),e.qZA(),e._UZ(79,"input",50),e.qZA()(),e.TgZ(80,"div",36)(81,"div")(82,"label",33),e._uU(83,"Category "),e.qZA(),e.TgZ(84,"select",51),e.YNc(85,Te,2,2,"option",52),e.qZA()()()(),e.TgZ(86,"div",32)(87,"div",27)(88,"div")(89,"label",33),e._uU(90,"POS Address "),e.qZA(),e._UZ(91,"textarea",53),e.qZA()()(),e.TgZ(92,"div",32)(93,"div",36)(94,"div")(95,"label",33),e._uU(96,"Zip (PIN) Code "),e.qZA(),e._UZ(97,"input",54),e.qZA()(),e.TgZ(98,"div",36)(99,"div")(100,"label",33),e._uU(101,"State "),e.qZA(),e.TgZ(102,"select",55),e.YNc(103,Ce,2,2,"option",52),e.qZA()()(),e.TgZ(104,"div",36)(105,"div")(106,"label",33),e._uU(107,"Country "),e.qZA(),e.TgZ(108,"select",56),e.YNc(109,Fe,2,2,"option",52),e.qZA()()()()(),e.TgZ(110,"div",8)(111,"div",9)(112,"div",57)(113,"button",58),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.submit())}),e._UZ(114,"i",59),e._uU(115," Submit"),e.qZA()()()()()()()()()()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("formGroup",t.uploadForm),e.xp6(14),e.Q6J("ngClass",e.VKq(20,h,t.submitted&&t.f.organizationName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.organizationName.errors),e.xp6(5),e.Q6J("ngClass",e.VKq(22,h,t.submitted&&t.f.phoneNumber.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.phoneNumber.errors),e.xp6(7),e.Q6J("ngClass",e.VKq(24,h,t.submitted&&t.f.email.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.email.errors),e.xp6(6),e.Q6J("ngClass",e.VKq(26,h,t.submitted&&t.f.contactPersonName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.contactPersonName.errors),e.xp6(7),e.Q6J("type",t.fieldTextType1?"text":"password")("ngClass",e.VKq(28,h,t.submitted&&t.f.password.errors)),e.xp6(2),e.Q6J("ngClass",e.WLB(30,U,!t.fieldTextType1,t.fieldTextType1)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.password.errors),e.xp6(6),e.Q6J("type",t.fieldTextType1?"text":"password")("ngClass",e.VKq(33,h,t.f.confirmPassword.errors)),e.xp6(2),e.Q6J("ngClass",e.WLB(35,U,!t.fieldTextType1,t.fieldTextType1)),e.xp6(1),e.Q6J("ngIf",t.f.confirmPassword.errors),e.xp6(22),e.Q6J("ngForOf",t.CatagoryList),e.xp6(18),e.Q6J("ngForOf",t.StateList),e.xp6(6),e.Q6J("ngForOf",t.CountryList)}}function Me(n,i){1&n&&(e.TgZ(0,"div",21)(1,"div",22)(2,"h5",23),e._uU(3,"OTP Verification"),e.qZA()(),e.TgZ(4,"div",24)(5,"div",25)(6,"div",32)(7,"div",27)(8,"div")(9,"label",33),e._uU(10,"Enter OTP Sent To Your Email"),e.qZA(),e._UZ(11,"input",65),e.qZA()()(),e.TgZ(12,"div",32)(13,"div",27)(14,"div")(15,"label",33),e._uU(16,"Enter OTP Sent To Your Mobile No."),e.qZA(),e._UZ(17,"input",66),e.qZA()()(),e.TgZ(18,"div",8)(19,"div",9)(20,"div",57)(21,"button",67),e._UZ(22,"i",59),e._uU(23," Submit"),e.qZA()()()()()()())}function Ie(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",63)(1,"form",26),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.SubmitForm(o.uploadForm.value))}),e.TgZ(2,"div",20),e.YNc(3,Me,24,0,"div",64),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.uploadForm),e.xp6(2),e.Q6J("ngIf",t.showDiv.next)}}class w{constructor(i,t,a,o,l,s){this.formBuilder=i,this.appService=t,this.route=a,this._authService=o,this.tokenStorage=l,this.router=s,this.CatagoryList=[],this.StateList=[],this.CountryList=[],this.selectedAccount="Select",this.Default=[{name:"Data 1"},{name:"Data 2"}],this.submitted=!1,this.showDiv={current:!0,next:!1},this.isLoggedIn=!1,this.validateControl=c=>this.uploadForm.controls[c].invalid&&this.uploadForm.controls[c].touched,this.hasError=(c,m)=>this.uploadForm.controls[c].hasError(m)}toggleFieldTextType1(){this.fieldTextType1=!this.fieldTextType1}toggleFieldTextType2(){this.fieldTextType2=!this.fieldTextType2}ngOnInit(){let i=this.tokenStorage.getUser();console.log(i),this.GetCountryList(),this.getCatagoryList(),this.GetStateList(),this.uploadForm=new r.cw({merchantCode:new r.NI("",[]),organizationName:new r.NI("",[r.kI.required,r.kI.minLength(3)]),phoneNumber:new r.NI("",[r.kI.required,r.kI.minLength(3)]),email:new r.NI("",[r.kI.required,r.kI.minLength(3)]),password:new r.NI("",[r.kI.required,r.kI.minLength(6)]),confirmPassword:new r.NI("",[r.kI.required]),contactPersonName:new r.NI("",[r.kI.required,r.kI.minLength(3)]),isPhoneNumberValidate:new r.NI("",[]),isEmailValidate:new r.NI("",[]),approvalStatus:new r.NI("",[]),recStatus:new r.NI("",[]),remark:new r.NI("",[]),deviceID:new r.NI("",[]),deviceOS:new r.NI("",[]),token:new r.NI("",[]),createdBy:new r.NI("",[]),createdDate:new r.NI("",[]),modifyBy:new r.NI("",[]),modifyDate:new r.NI("",[]),phoneNumberOTP:new r.NI("",[]),emailOTP:new r.NI("",[]),posInfo:new r.cw({posName:new r.NI("",[r.kI.required,r.kI.minLength(3)]),categoryId:new r.NI("",[r.kI.required]),posAddress:new r.NI("",[r.kI.required,r.kI.minLength(3)]),zip:new r.NI("",[r.kI.required,r.kI.minLength(3)]),stateId:new r.NI("",[r.kI.required]),countryId:new r.NI("",[r.kI.required]),countryName:new r.NI("",[]),stateName:new r.NI("",[]),categoryName:new r.NI("",[]),posid:new r.NI("",[]),merchantId:new r.NI("",[]),poscode:new r.NI("",[]),latitude:new r.NI("",[]),longitude:new r.NI("",[])})},{validators:[re.match("password","confirmPassword")]}),this.tokenStorage.getToken()&&(this.isLoggedIn=!0,this.roleId=this.tokenStorage.getUser().roleId,this.userId=this.tokenStorage.getUser().userId,this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload")}get f(){return this.uploadForm.controls}getRoleMaster(){this.appService.GetAll("api/DropdownHelper/GetAllRoles").subscribe(i=>{})}validate(i){const t=i.parent?.get(this.compareControlName);return t&&t.value!==i.value?{compareWith:!0}:null}getCatagoryList(){this.appService.GetAll("api/CategoryMaster/GetCategoryDDL").subscribe(i=>{this.CatagoryList=i.responseData,console.log(i.responseData)})}GetCountryList(){this.appService.GetAll("api/Merchant/GetCountryDDL").subscribe(i=>{this.CountryList=i.responseData,console.log(i.responseData)})}GetStateList(){this.appService.GetAll("api/Merchant/GetStateDDL").subscribe(i=>{this.StateList=i.responseData})}blockSpaces(i){" "===i.key&&i.preventDefault()}keyPressOnlyChar(i){var t=String.fromCharCode(i.keyCode);return!!/[a-zA-Z]/.test(t)||(i.preventDefault(),!1)}keyPressOnlynum(i){var t=String.fromCharCode(i.keyCode);return!!/[0-9]/.test(t)||(i.preventDefault(),!1)}submit(){this.submitted=!0}createMerchant(i){const a={email:i.email,phoneNumber:i.phoneNumber,emailOTP:"",phoneNumberOTP:""};this.tokenStorage.Merchantdata(i),this.uploadForm.valid&&this.appService.Add("api/Merchant/SendOTP",a).pipe((0,Z.K)(o=>(0,N._)(o))).subscribe(o=>{switch(o.responseStatusCode){case 200:this.showDiv={current:!1,next:!0},(null!=o.responseData.phoneNumberOTP||null!=o.responseData.emailOTP)&&(this.tokenStorage.SavePhoneOtp(o.responseData.phoneNumberOTP),this.tokenStorage.SaveEmailOtp(o.responseData.emailOTP));break;case 212:alert("Something Went wrong"),this.showDiv={current:!0,next:!1};break;case 500:alert("Error Status "),this.showDiv={current:!0,next:!1};break;case 601:p().fire({title:"Duplication Error",text:"Phone Number is Duplicate.",icon:"success",confirmButtonColor:"#364574"}),this.showDiv={current:!0,next:!1};break;case 602:p().fire({title:"Duplication Error",text:"Duplicate Email.",icon:"success",confirmButtonColor:"#364574"}),this.showDiv={current:!0,next:!1};break;case 603:p().fire({title:"Duplication Error",text:"Duplicate Category Status.",icon:"success",confirmButtonColor:"#364574"}),this.showDiv={current:!0,next:!1};break;case 400:alert("Bad Request Status"),this.showDiv={current:!0,next:!1}}})}SubmitForm(i){let a=this.tokenStorage.getUser(),o=this.tokenStorage.getMerchant();o.posInfo.posid=0,o.posInfo.merchantId=0,o.isEmailValidate=1,o.isPhoneNumberValidate=1,o.createdBy=a.adminID,o.modifyBy=0,o.createdDate=new Date,o.modifyDate=new Date,o.merchantId=0,o.stateName=o.stateName,o.categoryName=o.categoryName,o.countryName=o.countryName,console.log(o),this.prvopt=this.tokenStorage.getPhoneNOOtp(),this.prvemailopt=this.tokenStorage.getEmailOtp(),i.phoneNumberOTP==this.prvopt&&i.emailOTP==this.prvemailopt?(console.log(o),this.appService.Add("api/Merchant/AddMerchant",o).subscribe(l=>{switch(l.responseStatusCode){case 200:alert("Merchant Added Successfully."),this.router.navigate(["/dashboards/dashboard"],{relativeTo:this.route});break;case 212:alert("Something Went wrong");break;case 500:alert("Error Status ");break;case 601:alert("Phone Number is Duplicate");break;case 602:alert("Duplicate Email");break;case 603:alert("Duplicate Category Status ");break;case 400:alert("Bad Request Status")}})):alert("Otp Not Valid")}static#e=this.\u0275fac=function(t){return new(t||w)(e.Y36(r.qu),e.Y36(P.z),e.Y36(u.gz),e.Y36(q.$),e.Y36(k.i),e.Y36(u.F0))};static#t=this.\u0275cmp=e.Xpm({type:w,selectors:[["app-signupmerchant"]],decls:24,vars:2,consts:[[1,"auth-page-wrapper","pt-5"],["id","auth-particles",1,"auth-one-bg-position","auth-one-bg"],[1,"bg-overlay"],[1,"shape"],["xmlns","http://www.w3.org/2000/svg","version","1.1",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 1440 120"],["d","M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z"],[1,"auth-page-content"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"text-center","mt-sm-1","text-white-50"],["href","",1,"d-inline-block","auth-logo","authlogo"],["src","assets/images/logo.png","alt","","height","100",2,"border-radius","10px"],[1,"row","justify-content-center"],["class","col-md-8",4,"ngIf"],["class","col-md-5",4,"ngIf"],[1,"footer"],[1,"text-center"],[1,"mb-0","text-muted"],[1,"col-md-8"],[1,"card","mt-4"],[1,"card-body","p-4"],[1,"text-center","mt-2"],[1,"text-primary"],[1,"p-2","mt-4"],[1,"live-preview"],["fxLayout","row wrap",3,"formGroup","ngSubmit"],[1,"col-md-12"],[1,"btn-left","mb-2"],[1,"ri-arrow-right-circle-fill","addnewico"],[1,"form-label","mt-2"],[1,"heads"],[1,"row","mb-3"],["for","basiInput",1,"form-label"],["type","text","formControlName","organizationName","required","","minlength","3","placeholder","Enter Merchant (Organization) Name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-4"],["type","text","formControlName","phoneNumber","required","","pattern","[0-9]+","C","10","maxlength","10","minlength","10","placeholder","Enter Phone No.",1,"form-control",3,"ngClass","keypress"],[1,"col-md-6"],["for","labelInput",1,"form-label"],[1,"form-icon","right"],["type","email","id","email","formControlName","email","placeholder","Enter email","pattern","^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",1,"form-control",3,"ngClass","keypress"],[1,"ri-mail-unread-line"],["type","text","formControlName","contactPersonName","required","","minlength","3","placeholder","Enter Contact Person Name",1,"form-control",3,"ngClass","keypress"],[1,"position-relative","auth-pass-inputgroup"],["placeholder","Enter password","id","password-input","formControlName","password","minlength","6",1,"form-control","pe-5",3,"type","ngClass"],["type","button","id","password-addon",1,"btn","btn-link","position-absolute","end-0","top-0","text-decoration-none","text-muted","btn-eye"],[1,"mdi","align-middle","pass-eye",3,"ngClass","click"],["placeholder","Enter confirmPassword","id","password-input","formControlName","confirmPassword","minlength","6",1,"form-control","pe-5",3,"type","ngClass"],["formGroupName","posInfo"],["type","text","id","posName","formControlName","posName","placeholder","Enter POS Name",1,"form-control"],["aria-label","Default select example","formControlName","categoryId",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["formControlName","posAddress","rows","1","placeholder","Enter POS Address",1,"form-control"],["type","text","formControlName","zip","placeholder","Enter Zip (PIN) Code",1,"form-control"],["aria-label","Default  select example","formControlName","stateId",1,"form-select"],["aria-label","Default select example","formControlName","countryId",1,"form-select"],[1,"text-center","gap-2","mt-2"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"ri-save-3-fill","label-icon","align-middle","me-2"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"],[1,"col-md-5"],["class","card-body p-4",4,"ngIf"],["type","text","formControlName","emailOTP","placeholder","Enter OTP Sent To Your Email",1,"form-control"],["type","text","formControlName","phoneNumberOTP","placeholder","Enter OTP Sent To Your Mobile No.",1,"form-control"],["type","submit",1,"btn","btn-primary"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"path",5),e.qZA()()(),e.kcU(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div")(12,"a",11),e._UZ(13,"img",12),e.qZA()()()()(),e.TgZ(14,"div",13),e.YNc(15,Ae,116,38,"div",14),e.YNc(16,Ie,4,2,"div",15),e.qZA()()(),e.TgZ(17,"footer",16)(18,"div",7)(19,"div",8)(20,"div",9)(21,"div",17)(22,"p",18),e._uU(23,"\xa9 2023 BlooTusk. "),e.qZA()()()()()()()),2&t&&(e.xp6(15),e.Q6J("ngIf",a.showDiv.current),e.xp6(1),e.Q6J("ngIf",a.showDiv.next))},dependencies:[f.mk,f.sg,f.O5,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.Q7,r.wO,r.nD,r.c5,r.sg,r.u,r.x0]})}function Se(n,i){1&n&&(e.TgZ(0,"div",5),e._uU(1,"CAPTCHA verification successful!"),e.qZA())}class T{constructor(){this.isVerified=!1}ngOnInit(){this.generateCaptcha()}generateCaptcha(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let a="";for(let o=0;o<6;o++)a+=i.charAt(Math.floor(Math.random()*i.length));this.generatedText=a,this.isVerified=!1}verifyCaptcha(){this.userText.toLowerCase()===this.generatedText.toLowerCase()?(console.log("CAPTCHA verification successful"),this.isVerified=!0):(console.log("CAPTCHA verification failed"),this.generateCaptcha())}static#e=this.\u0275fac=function(t){return new(t||T)};static#t=this.\u0275cmp=e.Xpm({type:T,selectors:[["app-image-captcha"]],decls:10,vars:3,consts:[[1,"captcha-container","col-md-12"],[1,"row"],["type","text","placeholder","Enter the text",1,"form-control","col-md-9",3,"ngModel","ngModelChange"],[1,"btn","col-md-3",3,"click"],["class","success",4,"ngIf"],[1,"success"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"p"),e._uU(2,"Enter the text shown below:"),e.qZA(),e.TgZ(3,"h2"),e._uU(4),e.qZA(),e.TgZ(5,"div",1)(6,"input",2),e.NdJ("ngModelChange",function(l){return a.userText=l}),e.qZA(),e.TgZ(7,"button",3),e.NdJ("click",function(){return a.verifyCaptcha()}),e._uU(8,"Verify"),e.qZA()(),e.YNc(9,Se,2,0,"div",4),e.qZA()),2&t&&(e.xp6(4),e.Oqu(a.generatedText),e.xp6(2),e.Q6J("ngModel",a.userText),e.xp6(3),e.Q6J("ngIf",a.isVerified))},dependencies:[f.O5,r.Fj,r.JJ,r.On]})}function Ze(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"User Name is required"),e.qZA())}function Ne(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"User Name least 3 char long "),e.qZA())}function ke(n,i){if(1&n&&(e.TgZ(0,"div",37),e.YNc(1,Ze,2,0,"div",38),e.YNc(2,Ne,2,0,"div",38),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.name.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.name.errors.minlength)}}function Ee(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Phone No. is required "),e.qZA())}function Oe(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Phone enter valid Mobile No."),e.qZA())}function Le(n,i){if(1&n&&(e.TgZ(0,"div",37),e.YNc(1,Ee,2,0,"div",38),e.YNc(2,Oe,2,0,"div",38),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.phoneNumber.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.phoneNumber.errors.minlength)}}const R=function(n){return{"is-invalid":n}};function De(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"div",19)(2,"div",20)(3,"div",21)(4,"h5",22),e._uU(5,"Signup Here!"),e.qZA()(),e.TgZ(6,"div",23)(7,"div",24)(8,"form",25),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.createUser(o.uploadForm.value))}),e.TgZ(9,"div",26),e._UZ(10,"br"),e._uU(11," Your merchant name is "),e.TgZ(12,"span",27),e._uU(13),e.qZA(),e._uU(14,". "),e._UZ(15,"label")(16,"br")(17,"br"),e.qZA(),e.TgZ(18,"div",28)(19,"div",29)(20,"div")(21,"label",30),e._uU(22,"Name "),e.qZA(),e._UZ(23,"input",31),e.YNc(24,ke,3,2,"div",32),e.qZA()()(),e.TgZ(25,"div",28)(26,"div",29)(27,"div")(28,"label",30),e._uU(29,"Phone No. "),e.qZA(),e.TgZ(30,"input",33),e.NdJ("keypress",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.keyPressOnlynum(o))})("keypress",function(o){e.CHM(t);const l=e.oxw();return e.KtG(l.blockSpaces(o))}),e.qZA(),e.YNc(31,Le,3,2,"div",32),e.qZA()()(),e.TgZ(32,"div",8)(33,"div",9)(34,"div",34),e._UZ(35,"app-image-captcha"),e.TgZ(36,"button",35),e._UZ(37,"i",36),e._uU(38," Submit"),e.qZA()()()()()()()()()()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("formGroup",t.uploadForm),e.xp6(5),e.hij(" ",t.merchantName,""),e.xp6(10),e.Q6J("ngClass",e.VKq(6,R,t.submitted&&t.f.organizationName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.name.errors),e.xp6(6),e.Q6J("ngClass",e.VKq(8,R,t.submitted&&t.f.phoneNumber.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.phoneNumber.errors)}}function Pe(n,i){if(1&n&&(e.TgZ(0,"div"),e._uU(1," reCAPTCHA Token "),e._UZ(2,"br"),e.TgZ(3,"p",43),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(4),e.Oqu(t.reCAPTCHAToken)}}function qe(n,i){if(1&n&&(e.TgZ(0,"div",20)(1,"div",21)(2,"h5",22),e._uU(3,"OTP Verification"),e.qZA()(),e.TgZ(4,"div",40)(5,"div",24)(6,"div",28)(7,"div",29)(8,"div")(9,"label",30),e._uU(10,"Enter OPT "),e.qZA(),e._UZ(11,"input",41),e.qZA()()(),e.TgZ(12,"div",8)(13,"div",9)(14,"div",34),e._UZ(15,"div",42),e.TgZ(16,"button",35),e._UZ(17,"i",36),e._uU(18," Submit"),e.qZA()(),e.YNc(19,Pe,5,1,"div",38),e.qZA()()()()()),2&n){const t=e.oxw(2);e.xp6(19),e.Q6J("ngIf",t.tokenVisible)}}function Ue(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"form",25),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.SubmitForm(o.Otporm.value))}),e.TgZ(2,"div",19),e.YNc(3,qe,20,1,"div",39),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.Otporm),e.xp6(2),e.Q6J("ngIf",t.showDiv.next)}}class C{constructor(i,t,a,o,l,s){this.formBuilder=i,this.appService=t,this.route=a,this._authService=o,this.tokenStorage=l,this.router=s,this.selectedAccount="Select",this.Default=[{name:"Data 1"},{name:"Data 2"}],this.showDiv={current:!0,next:!1},this.reCAPTCHAToken="",this.tokenVisible=!1,this.CatagoryList=[],this.StateList=[],this.CountryList=[],this.submitted=!1,this.isLoggedIn=!1,this.isCaptchaVerified=!1,this.validateControl=c=>this.uploadForm.controls[c].invalid&&this.uploadForm.controls[c].touched,this.hasError=(c,m)=>this.uploadForm.controls[c].hasError(m)}toggleFieldTextType1(){this.fieldTextType1=!this.fieldTextType1}toggleFieldTextType2(){this.fieldTextType2=!this.fieldTextType2}ngOnInit(){this.merchantCode=this.route.snapshot.params.id,this.GetMerchantName(this.merchantCode),this.tokenStorage.getUser(),this.uploadForm=new r.cw({merchantCode:new r.NI("",[]),name:new r.NI("",[r.kI.required,r.kI.minLength(3)]),phoneNumber:new r.NI("",[r.kI.required,r.kI.minLength(3)]),isPhoneNumberValidate:new r.NI("",[]),merchantID:new r.NI("",[]),referCode:new r.NI("",[]),referBy:new r.NI("",[]),rewardPoint:new r.NI("",[]),recStatus:new r.NI("",[]),approvalStatus:new r.NI("",[])}),this.Otporm=new r.cw({phoneNumber:new r.NI("",[]),emailOTP:new r.NI("",[]),phoneNumberOTP:new r.NI("",[]),email:new r.NI("",[])}),this.tokenStorage.getToken()&&(this.isLoggedIn=!0,this.roleId=this.tokenStorage.getUser().roleId,this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload")}get f(){return this.uploadForm.controls}GetMerchantName(i){this.appService.getById("api/Merchant/GetMarchantByCode/",i).subscribe(t=>{console.log(t),this.merchantName=t.responseData.organizationName})}getRoleMaster(){this.appService.GetAll("api/DropdownHelper/GetAllRoles").subscribe(i=>{})}validate(i){const t=i.parent?.get(this.compareControlName);return t&&t.value!==i.value?{compareWith:!0}:null}blockSpaces(i){" "===i.key&&i.preventDefault()}keyPressOnlyChar(i){var t=String.fromCharCode(i.keyCode);return!!/[a-zA-Z]/.test(t)||(i.preventDefault(),!1)}keyPressOnlynum(i){var t=String.fromCharCode(i.keyCode);return!!/[0-9]/.test(t)||(i.preventDefault(),!1)}submit(){this.submitted=!0}onCaptchaVerificationSuccess(){this.isCaptchaVerified=!0}createUser(i){this.isCaptchaVerified?console.log("Form submitted successfully!"):console.log("CAPTCHA verification failed");const a={email:"",phoneNumber:i.phoneNumber,emailOTP:"",phoneNumberOTP:""};this.tokenStorage.Merchantdata(i),this.uploadForm.valid&&this.appService.Add("api/User/UserVerification",a).pipe((0,Z.K)(o=>(0,N._)(o))).subscribe(o=>{switch(o.responseStatusCode){case 200:this.showDiv={current:!1,next:!0},null!=o.responseData.phoneNumberOTP&&this.tokenStorage.SaveUSerPhoneOtp(o.responseData.phoneNumberOTP);break;case 212:alert("Something Went wrong"),this.showDiv={current:!0,next:!1};break;case 500:alert("Error Status "),this.showDiv={current:!0,next:!1};break;case 601:alert("Phone Number is Duplicate"),this.showDiv={current:!0,next:!1};break;case 602:alert("Duplicate Email"),this.showDiv={current:!0,next:!1};break;case 603:alert("Duplicate Category Status "),this.showDiv={current:!0,next:!1};break;case 400:alert("Bad Request Status"),this.showDiv={current:!0,next:!1}}})}SubmitForm(i){this.tokenStorage.getUser();let o=this.tokenStorage.getMerchant();o.merchantCode=this.merchantCode,o.isPhoneNumberValidate=0,o.createdBy=0,o.modifyBy=0,o.createdDate=new Date,o.modifyDate=new Date,o.merchantID=28,o.referBy=0,o.rewardPoint=0,o.customerID=0,o.customerCode="",o.stopMessage=0,this.prvopt=this.tokenStorage.getUserPhoneNoOtp(),i.phoneNumberOTP==this.prvopt?(console.log(o),this.appService.Add("api/User/AddCustomer",o).subscribe(l=>{switch(l.responseStatusCode){case 200:alert("User Added Successfully."),this.router.navigate(["/dashboards/dashboard"],{relativeTo:this.route});break;case 212:alert("Something Went wrong");break;case 500:alert("Error Status ");break;case 601:alert("Phone Number is Duplicate");break;case 602:alert("Duplicate Email");break;case 603:alert("Duplicate Category Status ");break;case 400:alert("Bad Request Status")}})):alert("Otp Not Valid")}static#e=this.\u0275fac=function(t){return new(t||C)(e.Y36(r.qu),e.Y36(P.z),e.Y36(u.gz),e.Y36(q.$),e.Y36(k.i),e.Y36(u.F0))};static#t=this.\u0275cmp=e.Xpm({type:C,selectors:[["app-signupuser"]],decls:24,vars:2,consts:[[1,"auth-page-wrapper","pt-5"],["id","auth-particles",1,"auth-one-bg-position","auth-one-bg"],[1,"bg-overlay"],[1,"shape"],["xmlns","http://www.w3.org/2000/svg","version","1.1",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 1440 120"],["d","M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z"],[1,"auth-page-content"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"text-center","mt-sm-1","text-white-50"],["href","",1,"d-inline-block","auth-logo","authlogo"],["src","assets/images/logo.png","alt","","height","100",2,"border-radius","10px"],[1,"row","justify-content-center"],["class","col-md-5",4,"ngIf"],[1,"footer"],[1,"text-center"],[1,"mb-0","text-muted"],[1,"col-md-5"],[1,"card","mt-4"],[1,"card-body","p-4"],[1,"text-center","mt-2"],[1,"text-primary"],[1,"p-2"],[1,"live-preview"],["fxLayout","row wrap",3,"formGroup","ngSubmit"],["role","alert",1,"alert","alert-borderless","alert-warning","text-center","mb-2","mx-2"],[1,"merchant-name-placeholder"],[1,"row","mb-3"],[1,"col-md-12"],["for","basiInput",1,"form-label"],["type","text","formControlName","name","required","","minlength","3","placeholder","Enter Name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","phoneNumber","required","","pattern","[0-9]+","C","10","maxlength","10","minlength","10","placeholder","Enter Phone No.",1,"form-control",3,"ngClass","keypress"],[1,"text-center","gap-2","mt-2"],["type","submit",1,"btn","btn-primary"],[1,"ri-save-3-fill","label-icon","align-middle","me-2"],[1,"invalid-feedback"],[4,"ngIf"],["class","card-body p-4",4,"ngIf"],[1,"p-2","mt-4"],["type","text","formControlName","phoneNumberOTP","placeholder","Enter OTP",1,"form-control"],["data-sitekey","6Lcrm84nAAAAAC7WUu1W_idnIbROE0oSNPit5HSr",1,"g-recaptcha"],[2,"color","red"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"path",5),e.qZA()()(),e.kcU(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div")(12,"a",11),e._UZ(13,"img",12),e.qZA()()()()(),e.TgZ(14,"div",13),e.YNc(15,De,39,10,"div",14),e.YNc(16,Ue,4,2,"div",14),e.qZA()()(),e.TgZ(17,"footer",15)(18,"div",7)(19,"div",8)(20,"div",9)(21,"div",16)(22,"p",17),e._uU(23,"\xa9 2023 BlooTusk. "),e.qZA()()()()()()()),2&t&&(e.xp6(15),e.Q6J("ngIf",a.showDiv.current),e.xp6(1),e.Q6J("ngIf",a.showDiv.next))},dependencies:[f.mk,f.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.wO,r.nD,r.c5,r.sg,r.u,T]})}class F{static#e=this.\u0275fac=function(t){return new(t||F)};static#t=this.\u0275cmp=e.Xpm({type:F,selectors:[["app-optverify"]],decls:37,vars:0,consts:[[1,"auth-page-wrapper","pt-3"],["id","auth-particles",1,"auth-one-bg-position","auth-one-bg"],[1,"bg-overlay"],[1,"shape"],["xmlns","http://www.w3.org/2000/svg","version","1.1",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 1440 120"],["d","M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z"],[1,"auth-page-content"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"text-center","mt-sm-1","mb-4","text-white-50"],["href","",1,"d-inline-block","auth-logo","authlogo"],["src","assets/images/logo.png","alt","","height","100",2,"border-radius","10px"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6","col-xl-5"],[1,"card","mt-4"],[1,"card-body","p-4"],[1,"text-center","mt-2"],[1,"text-primary"],[1,"p-2"],[1,"mb-3"],[1,"form-label"],["type","text","id","otp","placeholder","Enter OTP","formControlName","otp",1,"form-control"],[1,"mt-4"],["type","submit",1,"btn","btn-primary","w-100"],[1,"footer"],[1,"text-center"],[1,"mb-0","text-muted"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"path",5),e.qZA()()(),e.kcU(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div")(12,"a",11),e._UZ(13,"img",12),e.qZA()()()()(),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"div",16)(18,"div",17)(19,"h5",18),e._uU(20,"OTP Verification"),e.qZA()(),e.TgZ(21,"div",19)(22,"form")(23,"div",20)(24,"label",21),e._uU(25,"OTP"),e.qZA(),e._UZ(26,"input",22),e.qZA(),e.TgZ(27,"div",23)(28,"button",24),e._uU(29,"Verify"),e.qZA()()()()()()()()()(),e.TgZ(30,"footer",25)(31,"div",7)(32,"div",8)(33,"div",9)(34,"div",26)(35,"p",27),e._uU(36,"\xa9 2023 Blootusk. "),e.qZA()()()()()()())},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.u,r.F]})}const Re=[{path:"login",component:v},{path:"forgotpassword",component:b},{path:"changepassword",component:y},{path:"otpverify",component:F},{path:"signupmerchant",component:w},{path:"signupuser/:id",component:C}];class A{static#e=this.\u0275fac=function(t){return new(t||A)};static#t=this.\u0275mod=e.oAB({type:A});static#i=this.\u0275inj=e.cJS({imports:[u.Bz.forChild(Re),u.Bz]})}var ze=d(8796),Ye=d(4466),Be=d(4333);d(7340);let He=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Je=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[He]}),n})();var M=d(3238);let E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[M.BQ,f.ez,Je,M.BQ]}),n})(),Ke=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})(),et=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[M.BQ,E,E,Ke,M.BQ]}),n})();class I{constructor(){(0,B.N)(J().loadAnimation)}static#e=this.\u0275fac=function(t){return new(t||I)};static#t=this.\u0275mod=e.oAB({type:I});static#i=this.\u0275inj=e.cJS({imports:[f.ez,r.UX,r.u5,S.aE,A,f.ez,ze.A0,S.Oz,Y.O,Ye.m,Be.JX,E,et]})}}}]);
"use strict";(self.webpackChunkblootusk=self.webpackChunkblootusk||[]).push([[488],{3555:(zt,J,c)=>{c.r(J),c.d(J,{AccountModule:()=>L});var p=c(6895),r=c(4006),_=c(1366),K=c(9189),j=c(141),G=c(4487),V=c.n(G),h=c(7799),b=c(262),w=c(2843),e=c(4650),C=c(9957),P=c(1745);class y{constructor(){this.toasts=[]}show(i,t={}){this.toasts.push({textOrTpl:i,...t})}remove(i){this.toasts=this.toasts.filter(t=>t!==i)}static#e=this.\u0275fac=function(t){return new(t||y)};static#t=this.\u0275prov=e.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"})}function W(n,i){}function $(n,i){if(1&n&&e.YNc(0,W,0,0,"ng-template",4),2&n){const t=e.oxw().$implicit;e.Q6J("ngTemplateOutlet",t.textOrTpl)}}function X(n,i){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit;e.Oqu(t.textOrTpl)}}function ee(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"ngb-toast",1),e.NdJ("hidden",function(){const l=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.toastService.remove(l))}),e.YNc(1,$,1,1,"ng-template",2),e.YNc(2,X,1,1,"ng-template",null,3,e.W1O),e.qZA()}if(2&n){const t=i.$implicit,o=e.MAs(3),a=e.oxw();e.Tol(t.classname),e.Q6J("autohide",!0)("delay",t.delay||5e3),e.xp6(1),e.Q6J("ngIf",a.isTemplate(t))("ngIfElse",o)}}class Z{constructor(i){this.toastService=i}isTemplate(i){return i.textOrTpl instanceof e.Rgc}static#e=this.\u0275fac=function(t){return new(t||Z)(e.Y36(y))};static#t=this.\u0275cmp=e.Xpm({type:Z,selectors:[["app-toasts"]],hostAttrs:[1,"toast-container","position-fixed","top-0","end-0","p-3",2,"z-index","1200"],decls:1,vars:1,consts:[[3,"class","autohide","delay","hidden",4,"ngFor","ngForOf"],[3,"autohide","delay","hidden"],[3,"ngIf","ngIfElse"],["text",""],[3,"ngTemplateOutlet"]],template:function(t,o){1&t&&e.YNc(0,ee,4,6,"ngb-toast",0),2&t&&e.Q6J("ngForOf",o.toastService.toasts)},dependencies:[p.sg,p.O5,p.tP,_.Iv],encapsulation:2})}function te(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function ie(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Please enter valid Email "),e.qZA())}function ne(n,i){if(1&n&&(e.TgZ(0,"div",41),e.YNc(1,te,2,0,"div",42),e.YNc(2,ie,2,0,"div",42),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.email.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.email.errors.pattern)}}function oe(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Password is required"),e.qZA())}function re(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Password at least 6 digits long"),e.qZA())}function ae(n,i){if(1&n&&(e.TgZ(0,"div",41),e.YNc(1,oe,2,0,"div",42),e.YNc(2,re,2,0,"div",42),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.f.password.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.password.errors.minlength)}}const Q=function(n){return{"is-invalid":n}},le=function(n,i){return{"mdi-eye-off-outline":n,"mdi-eye-outline":i}};class M{constructor(i,t,o,a){this.router=i,this.tokenStorage=t,this._authService=o,this._router=a,this.hide=!0,this.isLoggedIn=!1,this.toggle=!0,this.submitted=!1,this.error="",this.emailExistsError=null,this.year=(new Date).getFullYear(),this.validateControl=l=>this.loginForm.controls[l].invalid&&this.loginForm.controls[l].touched,this.hasError=(l,d)=>this.loginForm.controls[l].hasError(d),this.loginUser=l=>{this.submitted=!0;const d={...l},u={username:d.email,password:d.password,deviceID:d.deviceID,deviceOS:d.deviceOS};this.loginForm.valid&&(console.log("test",u),this._authService.loginUser("api/Authenticate/AdminLogin",u).pipe((0,b.K)(m=>(this.warningmsg(),(0,w._)(m)))).subscribe(m=>{console.log("token data==",m),this.Isadmin="Admin",null!=m.responseData.token?(this.tokenStorage.SaveRole(this.Isadmin),this.tokenStorage.saveToken(m.responseData.token),this.isLoggedIn=!0,this._authService.sendAuthStateChangeNotification(m.responseMessage),this._router.routeReuseStrategy.shouldReuseRoute=()=>!1,this._router.onSameUrlNavigation="reload",this.tokenStorage.saveUser(this.UsersName),this.router.navigate(["../dashboards/dashboard"])):this.warningmsg()}))}}ngOnInit(){this.loginForm=new r.cw({email:new r.NI("",[r.kI.required]),password:new r.NI("",[r.kI.required,r.kI.minLength(6)])}),this.UsersName="Admin",this.tokenStorage.getToken()&&(this.isLoggedIn=!0,this.roleId=this.tokenStorage.getUser().roleId,this.userId=this.tokenStorage.getUser().userId,this._router.routeReuseStrategy.shouldReuseRoute=()=>!1,this._router.onSameUrlNavigation="reload")}get f(){return this.loginForm.controls}warningmsg(){}toggleFieldTextType(){this.fieldTextType=!this.fieldTextType}blockSpaces(i){" "===i.key&&i.preventDefault()}static#e=this.\u0275fac=function(t){return new(t||M)(e.Y36(h.F0),e.Y36(C.i),e.Y36(P.$),e.Y36(h.F0))};static#t=this.\u0275cmp=e.Xpm({type:M,selectors:[["app-login"]],decls:55,vars:15,consts:[[1,"auth-page-wrapper","pt-3"],["id","auth-particles",1,"auth-one-bg-position","auth-one-bg"],[1,"bg-overlay"],[1,"shape"],["xmlns","http://www.w3.org/2000/svg","version","1.1",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 1440 120"],["d","M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z"],[1,"auth-page-content"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"text-center","mt-sm-1","text-white-50"],[1,"d-inline-block","auth-logo","authlogo"],["src","assets/images/logo.png","alt","","height","100",2,"border-radius","10px"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6","col-xl-5"],[1,"card","mt-4","mgrb0"],[1,"card-body","p-4"],[1,"text-center","mt-2"],[1,"text-primary"],[1,"text-muted"],[1,"p-2","mt-4"],["fxLayout","row wrap",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","username",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter Email","pattern","^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",1,"form-control",3,"ngClass","keypress"],["class","invalid-feedback",4,"ngIf"],["for","password-input",1,"form-label"],[1,"position-relative","auth-pass-inputgroup","mb-3"],["placeholder","Enter Password","id","password-input","formControlName","password","minlength","6",1,"form-control","pe-5",3,"type","ngClass"],["type","button","id","password-addon",1,"btn","btn-link","position-absolute","end-0","top-0","text-decoration-none","text-muted","btn-eye"],[1,"mdi","align-middle","pass-eye",3,"ngClass","click"],[1,"form-check"],["type","checkbox","value","","id","auth-remember-check",1,"form-check-input"],["for","auth-remember-check",1,"form-check-label"],[1,"mt-4"],["type","submit",1,"btn","btn-success","w-100"],[1,"footer"],[1,""],[1,"text-center"],[1,"mb-0","text-muted"],["aria-live","polite","aria-atomic","true"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"path",5),e.qZA()()(),e.kcU(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div")(12,"span",11),e._UZ(13,"img",12),e.qZA()()()()(),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"div",16)(18,"div",17)(19,"h5",18),e._uU(20,"Welcome !"),e.qZA(),e.TgZ(21,"p",19),e._uU(22,"Sign in to continue."),e.qZA()(),e.TgZ(23,"div",20)(24,"form",21),e.NdJ("ngSubmit",function(){return o.loginUser(o.loginForm.value)}),e.TgZ(25,"div",22)(26,"label",23),e._uU(27,"Email"),e.qZA(),e.TgZ(28,"input",24),e.NdJ("keypress",function(l){return o.blockSpaces(l)}),e.qZA(),e.YNc(29,ne,3,2,"div",25),e.qZA(),e.TgZ(30,"div",22)(31,"label",26),e._uU(32,"Password"),e.qZA(),e.TgZ(33,"div",27),e._UZ(34,"input",28),e.TgZ(35,"button",29)(36,"i",30),e.NdJ("click",function(){return o.toggleFieldTextType()}),e.qZA()(),e.YNc(37,ae,3,2,"div",25),e.qZA()(),e.TgZ(38,"div",31),e._UZ(39,"input",32),e.TgZ(40,"label",33),e._uU(41,"Remember me"),e.qZA()(),e.TgZ(42,"div"),e._uU(43),e.qZA(),e.TgZ(44,"div",34)(45,"button",35),e._uU(46,"Sign In"),e.qZA()()()()()()()()()(),e.TgZ(47,"footer",36)(48,"div",7)(49,"div",37)(50,"div",9)(51,"div",38)(52,"p",39),e._uU(53,"\xa9 2024 Blootusk. "),e.qZA()()()()()()(),e._UZ(54,"app-toasts",40)),2&t&&(e.xp6(24),e.Q6J("formGroup",o.loginForm),e.xp6(4),e.Q6J("ngClass",e.VKq(8,Q,o.submitted&&o.f.email.errors)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.email.errors),e.xp6(5),e.Q6J("type",o.fieldTextType?"text":"password")("ngClass",e.VKq(10,Q,o.submitted&&o.f.password.errors)),e.xp6(2),e.Q6J("ngClass",e.WLB(12,le,!o.fieldTextType,o.fieldTextType)),e.xp6(1),e.Q6J("ngIf",o.submitted&&o.f.password.errors),e.xp6(6),e.Oqu(o.emailExistsError))},dependencies:[p.mk,p.O5,r._Y,r.Fj,r.JJ,r.JL,r.wO,r.c5,r.sg,r.u,Z],styles:[".form-control.is-invalid[_ngcontent-%COMP%]{background-image:none!important}"]})}var se=c(5226),s=c.n(se);class S{constructor(i,t,o){this._authService=i,this.formBuilder=t,this._router=o}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",r.kI.compose([r.kI.required])]},{})}forgotUser(i){this.loginForm.valid&&this._authService.forgotUser(`api/User/ForgetPassword?email=${this.loginForm.value.email}`,{}).subscribe(t=>{const a=JSON.parse(t).message;"Email not found. Plese check."==a?this.warningmsg():"You have sent link on your email Please check."==a&&(this.successmsg(),this._router.navigate(["/auth/login"]))})}warningmsg(){s().fire({title:"Warning",text:"Please Enter Registered Email",icon:"warning",confirmButtonColor:"#364574",cancelButtonColor:"rgb(243, 78, 78)",confirmButtonText:"OK"})}successmsg(){s().fire({title:"Password Request Send Successfully",icon:"success",confirmButtonColor:"#364574",cancelButtonColor:"rgb(243, 78, 78)",confirmButtonText:"OK"})}static#e=this.\u0275fac=function(t){return new(t||S)(e.Y36(P.$),e.Y36(r.qu),e.Y36(h.F0))};static#t=this.\u0275cmp=e.Xpm({type:S,selectors:[["app-forgotpassword"]],decls:39,vars:0,consts:[[1,"auth-page-wrapper","pt-5"],["id","auth-particles",1,"auth-one-bg-position","auth-one-bg"],[1,"bg-overlay"],[1,"shape"],["xmlns","http://www.w3.org/2000/svg","version","1.1",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 1440 120"],["d","M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z"],[1,"auth-page-content"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"text-center","mt-sm-1","mb-4","text-white-50"],[1,"d-inline-block","auth-logo","authlogo"],["src","assets/images/logo.png","alt","","height","100",2,"border-radius","10px"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6","col-xl-5"],[1,"card","mt-4"],[1,"card-body","p-4"],[1,"text-center","mt-2"],[1,"text-primary"],["role","alert",1,"alert","alert-borderless","alert-warning","text-center","mb-2","mx-2"],[1,"p-2"],[1,"mb-4"],[1,"form-label"],["type","email","id","email","placeholder","Enter Email","formControlName","email",1,"form-control"],[1,"text-center","mt-4"],["type","submit",1,"btn","btn-primary","w-100"],[1,"footer"],[1,""],[1,"text-center"],[1,"mb-0","text-muted"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"path",5),e.qZA()()(),e.kcU(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div")(12,"span",11),e._UZ(13,"img",12),e.qZA()()()()(),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"div",16)(18,"div",17)(19,"h5",18),e._uU(20,"Forgot Password?"),e.qZA()(),e.TgZ(21,"div",19),e._uU(22," Enter your registered email id to reset your password! "),e.qZA(),e.TgZ(23,"div",20)(24,"form")(25,"div",21)(26,"label",22),e._uU(27,"Email"),e.qZA(),e._UZ(28,"input",23),e.qZA(),e.TgZ(29,"div",24)(30,"button",25),e._uU(31,"Next"),e.qZA()()()()()()()()()(),e.TgZ(32,"footer",26)(33,"div",7)(34,"div",27)(35,"div",9)(36,"div",28)(37,"p",29),e._uU(38,"\xa9 2024 Blootusk. "),e.qZA()()()()()()())}})}class A{constructor(){this.submitted=!1,this.error="",this.year=(new Date).getFullYear()}togglepasswordField(){this.passwordField=!this.passwordField}toggleconfirmField(){this.confirmField=!this.confirmField}static#e=this.\u0275fac=function(t){return new(t||A)};static#t=this.\u0275cmp=e.Xpm({type:A,selectors:[["app-changepassword"]],decls:51,vars:2,consts:[[1,"auth-page-wrapper","pt-3"],["id","auth-particles",1,"auth-one-bg-position","auth-one-bg"],[1,"bg-overlay"],[1,"shape"],["xmlns","http://www.w3.org/2000/svg","version","1.1",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 1440 120"],["d","M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z"],[1,"auth-page-content"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"text-center","mt-sm-1","mb-4","text-white-50"],[1,"d-inline-block","auth-logo","authlogo"],["src","assets/images/logo.png","alt","","height","100",2,"border-radius","10px"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6","col-xl-5"],[1,"card","mt-4"],[1,"card-body","p-4"],[1,"text-center","mt-2"],[1,"text-primary"],[1,"p-2"],[1,"mb-3"],["for","password-input",1,"form-label"],[1,"position-relative","auth-pass-inputgroup"],["placeholder","Enter password","id","password-input","aria-describedby","passwordInput","pattern","(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}","required","","formControlName","password",1,"form-control","pe-5","password-input",3,"type"],["type","button","id","password-addon",1,"btn","btn-link","position-absolute","end-0","top-0","text-decoration-none","text-muted","password-addon"],[1,"ri-eye-fill","align-middle",3,"click"],["for","confirm-password-input",1,"form-label"],[1,"position-relative","auth-pass-inputgroup","mb-3"],["placeholder","Confirm password","pattern","(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}","id","confirm-password-input","required","","formControlName","cpassword",1,"form-control","pe-5","password-input",3,"type"],["type","button","id","confirm-password-input",1,"btn","btn-link","position-absolute","end-0","top-0","text-decoration-none","text-muted","password-addon"],[1,"form-check"],["type","checkbox","value","","id","auth-remember-check",1,"form-check-input"],["for","auth-remember-check",1,"form-check-label"],[1,"mt-4"],["type","submit",1,"btn","btn-primary","w-100"],[1,"footer"],[1,""],[1,"text-center"],[1,"mb-0","text-muted"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"path",5),e.qZA()()(),e.kcU(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div")(12,"span",11),e._UZ(13,"img",12),e.qZA()()()()(),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"div",16)(18,"div",17)(19,"h5",18),e._uU(20,"Create New Password"),e.qZA()(),e.TgZ(21,"div",19)(22,"form")(23,"div",20)(24,"label",21),e._uU(25,"Password"),e.qZA(),e.TgZ(26,"div",22),e._UZ(27,"input",23),e.TgZ(28,"button",24)(29,"i",25),e.NdJ("click",function(){return o.togglepasswordField()}),e.qZA()()()(),e.TgZ(30,"div",20)(31,"label",26),e._uU(32,"Confirm Password"),e.qZA(),e.TgZ(33,"div",27),e._UZ(34,"input",28),e.TgZ(35,"button",29)(36,"i",25),e.NdJ("click",function(){return o.toggleconfirmField()}),e.qZA()()()(),e.TgZ(37,"div",30),e._UZ(38,"input",31),e.TgZ(39,"label",32),e._uU(40,"Remember me"),e.qZA()(),e.TgZ(41,"div",33)(42,"button",34),e._uU(43,"Reset Password"),e.qZA()()()()()()()()()(),e.TgZ(44,"footer",35)(45,"div",7)(46,"div",36)(47,"div",9)(48,"div",37)(49,"p",38),e._uU(50,"\xa9 2024 Blootusk. "),e.qZA()()()()()()()),2&t&&(e.xp6(27),e.Q6J("type",o.passwordField?"text":"password"),e.xp6(7),e.Q6J("type",o.confirmField?"text":"password"))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.c5,r.u,r.F]})}var de=c(8792),I=c(7668),R=c(6626),B=c(6788);function ce(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Mobile No. is required "),e.qZA())}function me(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Please enter valid Mobile No."),e.qZA())}function ue(n,i){if(1&n&&(e.TgZ(0,"div",69),e.YNc(1,ce,2,0,"div",70),e.YNc(2,me,2,0,"div",70),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.phoneNumber.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.phoneNumber.errors.minlength)}}function fe(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Email is required"),e.qZA())}function pe(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Please enter valid Email "),e.qZA())}function he(n,i){if(1&n&&(e.TgZ(0,"div",71),e.YNc(1,fe,2,0,"div",70),e.YNc(2,pe,2,0,"div",70),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.email.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.email.errors.pattern)}}function ge(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1," Owner Firstname & Lastname is required"),e.qZA())}function _e(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Owner Firstname & Lastname Person least 3 char long "),e.qZA())}function xe(n,i){if(1&n&&(e.TgZ(0,"div",69),e.YNc(1,ge,2,0,"div",70),e.YNc(2,_e,2,0,"div",70),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.contactPersonName.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.contactPersonName.errors.minlength)}}function ve(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Password is required"),e.qZA())}function be(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Password must be at least 8 to 15 characters long"),e.qZA())}function we(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1," Combine symbols, numbers, lowercase, and uppercase letters "),e.qZA())}function Ce(n,i){if(1&n&&(e.TgZ(0,"div",71),e.YNc(1,ve,2,0,"div",70),e.YNc(2,be,2,0,"div",70),e.YNc(3,we,2,0,"div",70),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.password.errors?null:t.f.password.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.f.password.errors?null:t.f.password.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.f.password.errors?null:t.f.password.errors.weakPassword)}}function ye(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Confirm Password is required"),e.qZA())}function Te(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Password must be at least 8 to 15 characters long"),e.qZA())}function Fe(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Password and Confirm Password must match"),e.qZA())}function Ze(n,i){if(1&n&&(e.TgZ(0,"div",71),e.YNc(1,ye,2,0,"div",70),e.YNc(2,Te,2,0,"div",70),e.YNc(3,Fe,2,0,"div",70),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.f.confirmPassword.errors?null:t.f.confirmPassword.errors.required),e.xp6(1),e.Q6J("ngIf",null==t.f.confirmPassword.errors?null:t.f.confirmPassword.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==t.f.confirmPassword.errors?null:t.f.confirmPassword.errors.matching)}}function Me(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Organization Name is required"),e.qZA())}function Se(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Organization Name least 3 char long "),e.qZA())}function Ae(n,i){if(1&n&&(e.TgZ(0,"div",71),e.YNc(1,Me,2,0,"div",70),e.YNc(2,Se,2,0,"div",70),e.qZA()),2&n){const t=e.oxw(2);let o,a;e.xp6(1),e.Q6J("ngIf",null==(o=t.uploadForm.get("posInfo.organizationName"))||null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==(a=t.uploadForm.get("posInfo.organizationName"))||null==a.errors?null:a.errors.minlength)}}function Ie(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"City Name is required"),e.qZA())}function ke(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"City Name least 3 char long "),e.qZA())}function Ne(n,i){if(1&n&&(e.TgZ(0,"div",71),e.YNc(1,Ie,2,0,"div",70),e.YNc(2,ke,2,0,"div",70),e.qZA()),2&n){const t=e.oxw(2);let o,a;e.xp6(1),e.Q6J("ngIf",null==(o=t.uploadForm.get("posInfo.city"))||null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==(a=t.uploadForm.get("posInfo.city"))||null==a.errors?null:a.errors.minlength)}}function Oe(n,i){if(1&n&&(e.TgZ(0,"option",72),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t.categoryId),e.xp6(1),e.hij(" ",t.categoryName," ")}}function Ee(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Please Select category"),e.qZA())}function qe(n,i){if(1&n&&(e.TgZ(0,"div",71),e.YNc(1,Ee,2,0,"div",70),e.qZA()),2&n){const t=e.oxw(2);let o;e.xp6(1),e.Q6J("ngIf",null==(o=t.uploadForm.get("posInfo.categoryId"))||null==o.errors?null:o.errors.required)}}function De(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Business Address is required"),e.qZA())}function Ue(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Business Address least 3 char long "),e.qZA())}function Le(n,i){if(1&n&&(e.TgZ(0,"div",71),e.YNc(1,De,2,0,"div",70),e.YNc(2,Ue,2,0,"div",70),e.qZA()),2&n){const t=e.oxw(2);let o,a;e.xp6(1),e.Q6J("ngIf",null==(o=t.uploadForm.get("posInfo.posAddress"))||null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==(a=t.uploadForm.get("posInfo.posAddress"))||null==a.errors?null:a.errors.minlength)}}function Pe(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Zip Code is required"),e.qZA())}function Re(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"zip Code least 5 char long "),e.qZA())}function Be(n,i){if(1&n&&(e.TgZ(0,"div",71),e.YNc(1,Pe,2,0,"div",70),e.YNc(2,Re,2,0,"div",70),e.qZA()),2&n){const t=e.oxw(2);let o,a;e.xp6(1),e.Q6J("ngIf",null==(o=t.uploadForm.get("posInfo.zip"))||null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==(a=t.uploadForm.get("posInfo.zip"))||null==a.errors?null:a.errors.minlength)}}function ze(n,i){if(1&n&&(e.TgZ(0,"option",72),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t.stateId),e.xp6(1),e.Oqu(t.stateName)}}function Ye(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Please select State"),e.qZA())}function Je(n,i){if(1&n&&(e.TgZ(0,"div",71),e.YNc(1,Ye,2,0,"div",70),e.qZA()),2&n){const t=e.oxw(2);let o;e.xp6(1),e.Q6J("ngIf",null==(o=t.uploadForm.get("posInfo.stateId"))||null==o.errors?null:o.errors.required)}}function Qe(n,i){if(1&n&&(e.TgZ(0,"option",72),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t.countryId),e.xp6(1),e.Oqu(t.countryName)}}function He(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Please select Country"),e.qZA())}function Ke(n,i){if(1&n&&(e.TgZ(0,"div",71),e.YNc(1,He,2,0,"div",70),e.qZA()),2&n){const t=e.oxw(2);let o;e.xp6(1),e.Q6J("ngIf",null==(o=t.uploadForm.get("posInfo.countryId"))||null==o.errors?null:o.errors.required)}}const T=function(n){return{"is-invalid":n}},H=function(n,i){return{"mdi-eye-off-outline":n,"mdi-eye-outline":i}};function je(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22)(4,"h5",23),e._uU(5,"Signup Here!"),e.qZA()(),e.TgZ(6,"div",24)(7,"div",25)(8,"form",26),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.SubmitForm(a.uploadForm.value))}),e.TgZ(9,"div",8)(10,"div",27)(11,"div",28),e._UZ(12,"i",29),e._uU(13," \xa0 "),e.TgZ(14,"label",30)(15,"h6",31),e._uU(16,"Merchant Details"),e.qZA()()()()(),e.TgZ(17,"div",32)(18,"div",33)(19,"div")(20,"label",34),e._uU(21,"Mobile No. "),e.TgZ(22,"span",35),e._uU(23,"*"),e.qZA()(),e.TgZ(24,"input",36),e.NdJ("keypress",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.keyPressOnlynum(a))})("keypress",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.blockSpaces(a))}),e.qZA(),e.YNc(25,ue,3,2,"div",37),e.qZA()(),e.TgZ(26,"div",33)(27,"div")(28,"label",38),e._uU(29,"Email Id "),e.TgZ(30,"span",35),e._uU(31,"*"),e.qZA()(),e.TgZ(32,"div",39)(33,"input",40),e.NdJ("keypress",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.blockSpaces(a))}),e.qZA(),e._UZ(34,"i",41),e.qZA(),e.YNc(35,he,3,2,"div",42),e.qZA()(),e.TgZ(36,"div",33)(37,"div")(38,"label",34),e._uU(39,"Contact Person Name "),e.TgZ(40,"span",35),e._uU(41,"*"),e.qZA()(),e.TgZ(42,"input",43),e.NdJ("keypress",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.allowOnlySpaces(a))}),e.qZA(),e.YNc(43,xe,3,2,"div",37),e.qZA()()(),e.TgZ(44,"div",32)(45,"div",44)(46,"div")(47,"label",34),e._uU(48,"Password "),e.TgZ(49,"span",35),e._uU(50,"*"),e.qZA()(),e.TgZ(51,"div",45)(52,"input",46),e.NdJ("input",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.checkPasswordStrength())}),e.qZA(),e.TgZ(53,"button",47)(54,"i",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleFieldTextType1())}),e.qZA()(),e.YNc(55,Ce,4,3,"div",42),e.qZA()()(),e.TgZ(56,"div",44)(57,"div")(58,"label",34),e._uU(59,"Confirm Password "),e.TgZ(60,"span",35),e._uU(61,"*"),e.qZA()(),e.TgZ(62,"div",45)(63,"input",49),e.NdJ("input",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.checkConfirmPasswordStrength())}),e.qZA(),e.TgZ(64,"button",47)(65,"i",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleFieldTextType2())}),e.qZA()(),e.YNc(66,Ze,4,3,"div",42),e.qZA()()()(),e._UZ(67,"hr"),e.TgZ(68,"div",8)(69,"div",27)(70,"div",28),e._UZ(71,"i",29),e._uU(72," \xa0 "),e.TgZ(73,"label",30)(74,"h6",31),e._uU(75,"POS Details"),e.qZA()()()()(),e.TgZ(76,"div",50)(77,"div",32)(78,"div",33)(79,"div")(80,"label",34),e._uU(81,"Merchant (Organization) Name "),e.TgZ(82,"span",35),e._uU(83,"*"),e.qZA()(),e._UZ(84,"input",51),e.YNc(85,Ae,3,2,"div",42),e.qZA()(),e.TgZ(86,"div",33)(87,"div")(88,"label",34),e._uU(89,"Branch Name "),e._UZ(90,"i",52),e.qZA(),e._UZ(91,"input",53),e.qZA()(),e.TgZ(92,"div",33)(93,"div")(94,"label",34),e._uU(95,"City Name "),e.TgZ(96,"span",35),e._uU(97,"*"),e.qZA()(),e._UZ(98,"input",54),e.YNc(99,Ne,3,2,"div",42),e.qZA()()(),e.TgZ(100,"div",32)(101,"div",33)(102,"div")(103,"label",34),e._uU(104,"Category "),e.TgZ(105,"span",35),e._uU(106,"*"),e.qZA()(),e.TgZ(107,"select",55)(108,"option",56),e._uU(109,"Please select Category"),e.qZA(),e.YNc(110,Oe,2,2,"option",57),e.qZA(),e.YNc(111,qe,2,1,"div",42),e.qZA()(),e.TgZ(112,"div",58)(113,"div")(114,"label",34),e._uU(115,"Business Address "),e.TgZ(116,"span",35),e._uU(117,"*"),e.qZA()(),e._UZ(118,"textarea",59),e.YNc(119,Le,3,2,"div",42),e.qZA()()(),e.TgZ(120,"div",32)(121,"div",33)(122,"div")(123,"label",34),e._uU(124,"Zip Code "),e.TgZ(125,"span",35),e._uU(126,"*"),e.qZA()(),e.TgZ(127,"input",60),e.NdJ("keypress",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.keyPressOnlynum(a))}),e.qZA(),e.YNc(128,Be,3,2,"div",42),e.qZA()(),e.TgZ(129,"div",33)(130,"div")(131,"label",34),e._uU(132,"State "),e.TgZ(133,"span",35),e._uU(134,"*"),e.qZA()(),e.TgZ(135,"select",61),e.NdJ("ngModelChange",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.defaultStateId=a)}),e.TgZ(136,"option",62),e._uU(137,"Select State"),e.qZA(),e.YNc(138,ze,2,2,"option",57),e.qZA(),e.YNc(139,Je,2,1,"div",42),e.qZA()(),e.TgZ(140,"div",33)(141,"div")(142,"label",34),e._uU(143,"Country "),e.TgZ(144,"span",35),e._uU(145,"*"),e.qZA()(),e.TgZ(146,"select",63),e.NdJ("ngModelChange",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.defaultcountryId=a)}),e.TgZ(147,"option",62),e._uU(148,"Select State"),e.qZA(),e.YNc(149,Qe,2,2,"option",57),e.qZA(),e.YNc(150,Ke,2,1,"div",42),e.qZA()()(),e.TgZ(151,"div",8)(152,"div",16),e._uU(153," I want to receive messages via Text as well as emails from BlooTusk and I acknowledge that I agree to the "),e.TgZ(154,"a",64),e._uU(155,"Terms "),e.qZA(),e._uU(156,"of Use and have read the "),e.TgZ(157,"a",65),e._uU(158," Privacy Policy."),e.qZA(),e._UZ(159,"br"),e.qZA()(),e._UZ(160,"br"),e.qZA(),e.TgZ(161,"div",8)(162,"div",9)(163,"div",66)(164,"button",67),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.submit())}),e._UZ(165,"i",68),e._uU(166," Submit"),e.qZA()()()()()()()()()()}if(2&n){const t=e.oxw();let o,a,l,d,u,m,f;e.xp6(8),e.Q6J("formGroup",t.uploadForm),e.xp6(16),e.Q6J("ngClass",e.VKq(28,T,t.submitted&&t.f.phoneNumber.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.phoneNumber.errors),e.xp6(8),e.Q6J("ngClass",e.VKq(30,T,t.submitted&&t.f.email.errors)),e.xp6(2),e.Q6J("ngIf",t.submitted&&t.f.email.errors),e.xp6(7),e.Q6J("ngClass",e.VKq(32,T,t.submitted&&t.f.contactPersonName.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.contactPersonName.errors),e.xp6(9),e.Q6J("type",t.fieldTextType1?"text":"password")("ngClass",e.VKq(34,T,t.submitted&&t.f.password.errors)),e.xp6(2),e.Q6J("ngClass",e.WLB(36,H,!t.fieldTextType1,t.fieldTextType1)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.password.errors||t.f.password.dirty),e.xp6(8),e.Q6J("type",t.fieldTextType2?"text":"password")("ngClass",e.VKq(39,T,t.submitted&&t.f.confirmPassword.errors)),e.xp6(2),e.Q6J("ngClass",e.WLB(41,H,!t.fieldTextType2,t.fieldTextType2)),e.xp6(1),e.Q6J("ngIf",t.f.confirmPassword.errors&&t.f.confirmPassword.dirty||t.submitted),e.xp6(19),e.Q6J("ngIf",(null==(o=t.uploadForm.get("posInfo.organizationName"))?null:o.invalid)&&t.submitted),e.xp6(14),e.Q6J("ngIf",(null==(a=t.uploadForm.get("posInfo.city"))?null:a.invalid)&&t.submitted),e.xp6(11),e.Q6J("ngForOf",t.CatagoryList),e.xp6(1),e.Q6J("ngIf",t.submitted&&(null==(l=t.uploadForm.get("posInfo.categoryId"))?null:l.invalid)),e.xp6(8),e.Q6J("ngIf",(null==(d=t.uploadForm.get("posInfo.posAddress"))?null:d.invalid)&&t.submitted),e.xp6(9),e.Q6J("ngIf",(null==(u=t.uploadForm.get("posInfo.zip"))?null:u.invalid)&&t.submitted),e.xp6(7),e.Q6J("ngModel",t.defaultStateId),e.xp6(3),e.Q6J("ngForOf",t.StateList),e.xp6(1),e.Q6J("ngIf",(null==(m=t.uploadForm.get("posInfo.stateId"))?null:m.invalid)&&t.submitted),e.xp6(7),e.Q6J("ngModel",t.defaultcountryId),e.xp6(3),e.Q6J("ngForOf",t.CountryList),e.xp6(1),e.Q6J("ngIf",(null==(f=t.uploadForm.get("posInfo.countryId"))?null:f.invalid)&&t.submitted),e.xp6(14),e.Q6J("disabled",!t.isButtonEnabled)}}class k{constructor(i,t,o,a,l,d,u){this.formBuilder=i,this.appService=t,this.route=o,this._authService=a,this.tokenStorage=l,this.router=d,this.EncrDecr=u,this.CatagoryList=[],this.StateList=[],this.CountryList=[],this.showPasswordStrengthMessage=!1,this.strengthMessage="",this.selectedAccount="Select",this.Default=[{name:"Data 1"},{name:"Data 2"}],this.submitted=!1,this.defaultStateId=8,this.defaultcountryId=1,this.showDiv={current:!0,next:!1},this.isLoggedIn=!1,this.validateControl=m=>this.uploadForm.controls[m].invalid&&this.uploadForm.controls[m].touched,this.hasError=(m,f)=>this.uploadForm.controls[m].hasError(f),this.isButtonEnabled=!0,this.isVisibleSuccess=!1,this.isVisibleDanger=!1,this.isVisibleWarning=!1}allowOnlySpaces(i){" "!==i.key&&!/^[a-zA-Z]*$/.test(i.key)&&i.preventDefault()}toggleFieldTextType1(){this.fieldTextType1=!this.fieldTextType1}toggleFieldTextType2(){this.fieldTextType2=!this.fieldTextType2}ngOnInit(){var i=this.EncrDecr.set("12$#@BLOO$^@TUSK","M1110001"),t=this.EncrDecr.get("12$#@BLOO$^@TUSK",i);console.log("Encrypted :"+i),console.log("Decrypted :"+t);let o=this.tokenStorage.getUser();console.log(o),this.GetCountryList(),this.getCatagoryList(),this.GetStateList(),this.otpForm=new r.cw({phoneNumberOTP:new r.NI("",[r.kI.required]),emailOTP:new r.NI("",[r.kI.required])}),this.uploadForm=new r.cw({merchantCode:new r.NI("",[]),phoneNumber:new r.NI("",[r.kI.required,r.kI.minLength(3)]),email:new r.NI("",[r.kI.required,r.kI.minLength(3)]),password:new r.NI("",[this.validateStrongPassword,r.kI.required,r.kI.minLength(8),r.kI.maxLength(15)]),organizationName:new r.NI("",[]),confirmPassword:new r.NI("",[r.kI.required,r.kI.minLength(8),r.kI.maxLength(15)]),contactPersonName:new r.NI("",[r.kI.required,r.kI.minLength(3)]),isPhoneNumberValidate:new r.NI("",[]),isEmailValidate:new r.NI("",[]),approvalStatus:new r.NI("",[]),recStatus:new r.NI("",[]),remark:new r.NI("",[]),deviceID:new r.NI("",[]),deviceOS:new r.NI("",[]),token:new r.NI("",[]),createdBy:new r.NI("",[]),createdDate:new r.NI("",[]),modifyBy:new r.NI("",[]),modifyDate:new r.NI("",[]),phoneNumberOTP:new r.NI("",[]),emailOTP:new r.NI("",[]),merchantURL:new r.NI("",[]),posInfo:new r.cw({posName:new r.NI("",[]),categoryId:new r.NI("",[r.kI.required]),posAddress:new r.NI("",[r.kI.required,r.kI.minLength(3)]),organizationName:new r.NI("",[r.kI.required,r.kI.minLength(3)]),city:new r.NI("",[r.kI.required,r.kI.minLength(3)]),zip:new r.NI("",[r.kI.required,r.kI.minLength(5)]),stateId:new r.NI("",[r.kI.required]),countryId:new r.NI("",[r.kI.required]),countryName:new r.NI("",[]),stateName:new r.NI("",[]),categoryName:new r.NI("",[]),posid:new r.NI("",[]),merchantId:new r.NI("",[]),poscode:new r.NI("",[]),latitude:new r.NI("",[]),longitude:new r.NI("",[])})},{validators:[de.Z.match("password","confirmPassword")]}),this.tokenStorage.getToken()&&(this.isLoggedIn=!0,this.roleId=this.tokenStorage.getUser().roleId,this.userId=this.tokenStorage.getUser().userId,this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload")}get f(){return this.uploadForm.controls}getRoleMaster(){this.appService.GetAll("api/DropdownHelper/GetAllRoles").subscribe(i=>{})}validateStrongPassword(i){const t=i.value;return t?t.length>=8&&/[A-Z]/.test(t)&&/[!@#$%^&*]/.test(t)&&/[0-9]/.test(t)?null:{weakPassword:!0}:null}isPasswordStrong(i,t){return i.length>=8&&/[A-Z]/.test(i)&&/[!@#$%^&*]/.test(i)}validate(i){const t=i.parent?.get(this.compareControlName);return t&&t.value!==i.value?{compareWith:!0}:null}getCatagoryList(){this.appService.GetAll("api/CategoryMaster/GetCategoryDDL").subscribe(i=>{this.CatagoryList=i.responseData,console.log(i.responseData)})}GetCountryList(){this.appService.GetAll("api/Merchant/GetCountryDDL").subscribe(i=>{this.CountryList=i.responseData,console.log(i.responseData)})}GetStateList(){this.appService.GetAll("api/Merchant/GetStateDDL").subscribe(i=>{this.StateList=i.responseData,console.log("state",this.StateList)})}blockSpaces(i){" "===i.key&&i.preventDefault()}keyPressOnlyChar(i){var t=String.fromCharCode(i.keyCode);return!!/[a-zA-Z]/.test(t)||(i.preventDefault(),!1)}keyPressOnlynum(i){var t=String.fromCharCode(i.keyCode);return!!/[0-9]/.test(t)||(i.preventDefault(),!1)}submit(){this.submitted=!0}createMerchant(i){const o={email:i.email,phoneNumber:i.phoneNumber,emailOTP:"",phoneNumberOTP:""};this.tokenStorage.Merchantdata(i),this.uploadForm.valid&&this.appService.Add("api/Merchant/SendOTP",o).pipe((0,b.K)(a=>(0,w._)(a))).subscribe(a=>{switch(console.log(a.responseData),a.responseStatusCode){case 200:this.showDiv={current:!1,next:!0},(null!=a.responseData.phoneNumberOTP||null!=a.responseData.emailOTP)&&(this.merchantEmailOTP=a.responseData.emailOTP,this.merchantMobileOTP=a.responseData.phoneNumberOTP);break;case 212:s().fire({title:"Warning",text:"Something Went wrong.",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1}),this.showDiv={current:!0,next:!1};break;case 500:s().fire({title:"Error",text:"Error Status",icon:"error",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1}),this.showDiv={current:!0,next:!1};break;case 601:s().fire({title:"Duplication",text:"Phone Number is Duplicate",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1}),this.showDiv={current:!0,next:!1};break;case 602:s().fire({title:"Duplication",text:"Duplicate Email",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1}),this.showDiv={current:!0,next:!1};break;case 603:s().fire({title:"Duplication",text:"Duplicate Category Status",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1}),this.showDiv={current:!0,next:!1};break;case 400:this.messageContent="Bad Request Status.",this.showMessageWarning(),this.showDiv={current:!0,next:!1}}})}showMessageSuccess(){this.messageContent="Merchant Update Successfully.",this.isVisibleSuccess=!0}showMessageDanger(){this.isVisibleDanger=!0}showMessageWarning(){this.isVisibleWarning=!0}SubmitForm(i){let t=i;this.uploadForm.valid&&(this.isButtonEnabled=!1,t.posInfo.posid=0,t.posInfo.merchantId=0,t.isEmailValidate=1,t.isPhoneNumberValidate=1,t.createdBy=0,t.modifyBy=0,t.createdDate=new Date,t.modifyDate=new Date,t.merchantId=0,t.deviceId="",t.deviceOs="",t.generatedBy="",t.organizationName=t.posInfo.organizationName,t.city=t.posInfo.city,t.posInfo.stateName=t.posInfo.stateName,t.posInfo.categoryName=t.posInfo.categoryName,t.posInfo.countryName=t.posInfo.countryName,t.posInfo.posname=t.posInfo.posname,t.merchantURL="",console.log(t),this.appService.Add("api/Merchant/AddMerchant",t).subscribe(o=>{console.log("Addmerchant",o.responseData);let a=o.responseStatusCode;switch(this.isButtonEnabled=!0,a){case 200:s().fire({title:"Success",text:"Application submitted Successfully, BlooTusk team will contact you for verification process.",icon:"success",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1}).then(function(){location.reload()});break;case 212:s().fire({title:"Warning",text:"Something Went wrong.",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1});break;case 500:s().fire({title:"Error",text:"Error Status",icon:"error",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1});break;case 601:s().fire({title:"Duplication",text:"Mobile Number is Duplicate",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1});break;case 602:s().fire({title:"Duplication",text:"Duplicate Email",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1});break;case 603:s().fire({title:"Duplication",text:"Duplicate Category Status",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1});break;case 400:s().fire({title:"Error",text:"Bad Request Status",icon:"error",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1})}}))}checkConfirmPasswordStrength(){const i=this.uploadForm.get("confirmPassword")?.value;this.showPasswordStrengthMessage=!0,this.strengthMessage=/[A-Z]/.test(i)&&/[a-z]/.test(i)&&/\d/.test(i)&&/[0-9]/.test(i)?"Strong password":"Weak password"}checkPasswordStrength(){const i=this.uploadForm.get("password")?.value;this.showPasswordStrengthMessage=!0,this.strengthMessage=/[A-Z]/.test(i)&&/[a-z]/.test(i)&&/\d/.test(i)&&/[0-9]/.test(i)?"Strong password":"Weak password"}static#e=this.\u0275fac=function(t){return new(t||k)(e.Y36(r.qu),e.Y36(I.z),e.Y36(h.gz),e.Y36(R.$),e.Y36(C.i),e.Y36(h.F0),e.Y36(B.z))};static#t=this.\u0275cmp=e.Xpm({type:k,selectors:[["app-signupmerchant"]],decls:23,vars:1,consts:[[1,"auth-page-wrapper","pt-5"],["id","auth-particles",1,"auth-one-bg-position","auth-one-bg"],[1,"bg-overlay"],[1,"shape"],["xmlns","http://www.w3.org/2000/svg","version","1.1",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 1440 120"],["d","M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z"],[1,"auth-page-content"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"text-center","mt-sm-1","text-white-50"],[1,"d-inline-block","auth-logo","authlogo"],["src","assets/images/logo.png","alt","","height","100",2,"border-radius","10px"],[1,"row","justify-content-center"],["class","col-md-10",4,"ngIf"],[1,"footer"],[1,""],[1,"text-center"],[1,"mb-0","text-muted"],[1,"col-md-10"],[1,"card","mt-4"],[1,"card-body","p-4"],[1,"text-center","mt-2"],[1,"text-primary"],[1,"p-2","mt-4"],[1,"live-preview"],["fxLayout","row wrap",3,"formGroup","ngSubmit"],[1,"col-md-12"],[1,"btn-left","mb-2"],[1,"ri-arrow-right-circle-fill","addnewico"],[1,"form-label","mt-2"],[1,"heads"],[1,"row","mb-3"],[1,"col-md-4"],["for","basiInput",1,"form-label"],[1,"madatory"],["type","text","formControlName","phoneNumber","required","","pattern","[0-9]+","C","10","maxlength","10","minlength","10","placeholder","Enter Mobile No.",1,"form-control",3,"ngClass","keypress"],["class","invalid-feedback",4,"ngIf"],["for","labelInput",1,"form-label"],[1,"form-icon","right"],["type","email","id","email","formControlName","email","placeholder","Enter Email","pattern","^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",1,"form-control",3,"ngClass","keypress"],[1,"ri-mail-unread-line"],["class","invalid-feedback d-block",4,"ngIf"],["type","text","formControlName","contactPersonName","required","","minlength","3","placeholder","Enter Owner Firstname & Lastname",1,"form-control",3,"ngClass","keypress"],[1,"col-md-6"],[1,"position-relative","auth-pass-inputgroup"],["placeholder","Use Alphanumeric, Special character, Upper & Lower case letter","id","password-input","formControlName","password","required","","maxlength","15","minlength","6",1,"form-control","pe-5",3,"type","ngClass","input"],["type","button","id","password-addon",1,"btn","btn-link","position-absolute","end-0","top-0","text-decoration-none","text-muted","btn-eye"],[1,"mdi","align-middle","pass-eye",3,"ngClass","click"],["required","","placeholder","Use Alphanumeric, Special character, Upper & Lower case letter","id","password-input","formControlName","confirmPassword","maxlength","15",1,"form-control","pe-5",3,"type","ngClass","input"],["formGroupName","posInfo"],["type","text","formControlName","organizationName","required","","minlength","3","placeholder","Enter Merchant (Organization) Name",1,"form-control"],["ngbTooltip","Enter your Branch name",1,"ri-information-fill","infoicon"],["type","text","id","posName","formControlName","posName","placeholder","Enter Branch Name",1,"form-control"],["type","text","formControlName","city","required","","minlength","3","placeholder","Enter City Name",1,"form-control"],["aria-label","Default select example","formControlName","categoryId",1,"form-select"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-8"],["formControlName","posAddress","rows","1","placeholder","Enter Business Address",1,"form-control"],["type","text","formControlName","zip","maxlength","5","placeholder","Enter Zip  Code",1,"form-control",3,"keypress"],["aria-label","Default select example","formControlName","stateId",1,"form-select",3,"ngModel","ngModelChange"],["value","","disabled",""],["aria-label","Default select example","formControlName","countryId",1,"form-select",3,"ngModel","ngModelChange"],["href","https://blootusk.com/termsconditions.html"],["href","https://blootusk.com/privacypolicy.html"],[1,"text-center","gap-2","mt-2"],["type","submit",1,"btn","btn-primary",3,"disabled","click"],[1,"ri-save-3-fill","label-icon","align-middle","me-2"],[1,"invalid-feedback"],[4,"ngIf"],[1,"invalid-feedback","d-block"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"path",5),e.qZA()()(),e.kcU(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div")(12,"span",11),e._UZ(13,"img",12),e.qZA()()()()(),e.TgZ(14,"div",13),e.YNc(15,je,167,44,"div",14),e.qZA()()(),e.TgZ(16,"footer",15)(17,"div",7)(18,"div",16)(19,"div",9)(20,"div",17)(21,"p",18),e._uU(22,"\xa9 2024 Blootusk. "),e.qZA()()()()()()()),2&t&&(e.xp6(15),e.Q6J("ngIf",o.showDiv.current))},dependencies:[p.mk,p.sg,p.O5,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.Q7,r.wO,r.nD,r.c5,r.sg,r.u,r.x0,_._L]})}function Ge(n,i){if(1&n&&(e.TgZ(0,"div"),e._uU(1," Thank you for supporting "),e.TgZ(2,"span",40),e._uU(3),e.qZA(),e._uU(4,". "),e._UZ(5,"br"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.merchantName,"")}}function Ve(n,i){if(1&n&&(e.TgZ(0,"div"),e._uU(1," You are referred to "),e.TgZ(2,"span",40),e._uU(3),e.qZA(),e._uU(4," by "),e.TgZ(5,"span",40),e._uU(6),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(3),e.hij(" ",t.merchantName,""),e.xp6(3),e.hij(" ",t.customerName,"")}}function We(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Mobile No. is required "),e.qZA())}function $e(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Please enter valid Mobile No."),e.qZA())}function Xe(n,i){if(1&n&&(e.TgZ(0,"div",41),e.YNc(1,We,2,0,"div",28),e.YNc(2,$e,2,0,"div",28),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.phoneNumber.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.phoneNumber.errors.minlength)}}const et=function(n){return{"is-invalid":n}};function tt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22)(4,"h5",23),e._uU(5,"Welcome to BlooTusk!"),e.qZA()(),e.TgZ(6,"div",24)(7,"div",25)(8,"form",26),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.SubmitForm(a.uploadForm.value))}),e.TgZ(9,"div",27),e._UZ(10,"br"),e.YNc(11,Ge,6,1,"div",28),e.YNc(12,Ve,7,2,"div",28),e.TgZ(13,"label",29),e._uU(14),e.qZA(),e._UZ(15,"label")(16,"br")(17,"br"),e.qZA(),e._UZ(18,"div",30),e.TgZ(19,"div",30)(20,"div",31)(21,"div")(22,"label",32),e._uU(23,"Mobile No "),e.TgZ(24,"span",33),e._uU(25,"*"),e.qZA()(),e.TgZ(26,"input",34),e.NdJ("keypress",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.keyPressOnlynum(a))})("ngModelChange",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.MobileNo=a)})("keypress",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.blockSpaces(a))}),e.qZA(),e.YNc(27,Xe,3,2,"div",35),e.qZA()()(),e.TgZ(28,"div",8)(29,"div",9)(30,"div",36)(31,"div",8),e._UZ(32,"div",37),e.qZA(),e.TgZ(33,"div"),e._UZ(34,"br"),e.TgZ(35,"button",38),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.submit())}),e._UZ(36,"i",39),e._uU(37," Submit"),e.qZA()()()()()()()()()()()}if(2&n){const t=e.oxw();e.xp6(8),e.Q6J("formGroup",t.uploadForm),e.xp6(3),e.Q6J("ngIf",1==t.SignupMerchant),e.xp6(1),e.Q6J("ngIf",0==t.SignupMerchant),e.xp6(2),e.hij("",t.merchantId," "),e.xp6(12),e.Q6J("ngModel",t.MobileNo)("ngClass",e.VKq(7,et,t.submitted&&t.f.phoneNumber.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.phoneNumber.errors)}}function it(n,i){if(1&n&&(e.TgZ(0,"div"),e._uU(1," reCAPTCHA Token "),e._UZ(2,"br"),e.TgZ(3,"p",47),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(4),e.Oqu(t.reCAPTCHAToken)}}function nt(n,i){if(1&n&&(e.TgZ(0,"div",21)(1,"div",22)(2,"h5",23),e._uU(3,"OTP Verification"),e.qZA()(),e.TgZ(4,"div",43)(5,"div",25)(6,"div",30)(7,"div",31)(8,"div")(9,"label",32),e._uU(10,"Enter OTP "),e.qZA(),e._UZ(11,"input",44),e.qZA()()(),e.TgZ(12,"div",8)(13,"div",9)(14,"div",36),e._UZ(15,"div",45),e.TgZ(16,"button",46),e._UZ(17,"i",39),e._uU(18," Submit"),e.qZA()(),e.YNc(19,it,5,1,"div",28),e.qZA()()()()()),2&n){const t=e.oxw(2);e.xp6(19),e.Q6J("ngIf",t.tokenVisible)}}function ot(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",19)(1,"form",26),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.SubmitForm(a.Otporm.value))}),e.TgZ(2,"div",20),e.YNc(3,nt,20,1,"div",42),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.Otporm),e.xp6(2),e.Q6J("ngIf",t.showDiv.next)}}class N{constructor(i,t,o,a,l,d,u){this.formBuilder=i,this.appService=t,this.route=o,this._authService=a,this.tokenStorage=l,this.router=d,this.EncrDecr=u,this.selectedAccount="Select",this.Default=[{name:"Data 1"},{name:"Data 2"}],this.showDiv={current:!0,next:!1},this.reCAPTCHAToken="",this.tokenVisible=!1,this.CatagoryList=[],this.StateList=[],this.CountryList=[],this.submitted=!1,this.isVerified=!1,this.isSubmitBtnDisabled=!0,this.isLoggedIn=!1,this.isCaptchaVerified=!1,this.validateControl=F=>this.uploadForm.controls[F].invalid&&this.uploadForm.controls[F].touched,this.hasError=(F,Y)=>this.uploadForm.controls[F].hasError(Y);let f=atob(this.route.snapshot.params.id),g=this.EncrDecr.get("12$#@BLOO$^@TUSK",f),v=g.match(/(\d+|[A-Za-z]+)/g);null!==v&&(console.log(v[0]),"M"==v[1]?(this.Ismerchant=!0,this.SignupMerchant=!0):(this.Ismerchant=!1,this.SignupMerchant=!1),this.merchantCode=v[0]),this.GetMerchantName(this.merchantCode),null!=v&&this.GetCustomerName(g)}toggleFieldTextType1(){this.fieldTextType1=!this.fieldTextType1}toggleFieldTextType2(){this.fieldTextType2=!this.fieldTextType2}ngOnInit(){this.generateCaptcha(),this.tokenStorage.getUser(),this.uploadForm=new r.cw({merchantCode:new r.NI("",[]),name:new r.NI("",[r.kI.required,r.kI.minLength(3)]),phoneNumber:new r.NI("",[]),isPhoneNumberValidate:new r.NI("",[]),merchantID:new r.NI("",[]),referCode:new r.NI("",[]),referBy:new r.NI("",[]),rewardPoint:new r.NI("",[]),recStatus:new r.NI("",[]),approvalStatus:new r.NI("",[]),usertext:new r.NI("",[])}),this.Otporm=new r.cw({phoneNumber:new r.NI("",[]),emailOTP:new r.NI("",[]),phoneNumberOTP:new r.NI("",[]),email:new r.NI("",[])}),this.tokenStorage.getToken()&&(this.isLoggedIn=!0,this.roleId=this.tokenStorage.getUser().roleId,this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload")}get f(){return this.uploadForm.controls}GetMerchantName(i){this.appService.getByMerchantId("api/Merchant/GetMarchantByCode/",i,"?isMerchant="+this.Ismerchant).subscribe(t=>{this.merchantName=t.responseData.organizationName,this.merchantId=t.responseData.merchantID,this.MerchantCode=t.responseData.merchantCode})}GetCustomerName(i){this.appService.getById("api/User/GetCustomerByCOde/",i).subscribe(t=>{console.log("custdata",t.responseData),this.customerName=t.responseData.name,this.customerId=t.responseData.customerID,this.CustomerCode=t.responseData.custcode,this.referBy=t.responseData.customerID})}getRoleMaster(){this.appService.GetAll("api/DropdownHelper/GetAllRoles").subscribe(i=>{})}validate(i){const t=i.parent?.get(this.compareControlName);return t&&t.value!==i.value?{compareWith:!0}:null}blockSpaces(i){" "===i.key&&i.preventDefault()}keyPressOnlyChar(i){var t=String.fromCharCode(i.keyCode);return!!/[a-zA-Z]/.test(t)||(i.preventDefault(),!1)}keyPressOnlynum(i){var t=String.fromCharCode(i.keyCode);return!!/[0-9]/.test(t)||(i.preventDefault(),!1)}submit(){this.submitted=!0}onCaptchaVerificationSuccess(){this.isCaptchaVerified=!0}createUser(i){const o={email:"",phoneNumber:i.phoneNumber,emailOTP:"",phoneNumberOTP:""};this.tokenStorage.Merchantdata(i),this.uploadForm.valid&&this.appService.Add("api/User/UserVerification",o).pipe((0,b.K)(a=>(0,w._)(a))).subscribe(a=>{switch(console.log(a.responseData),a.responseStatusCode){case 200:this.showDiv={current:!1,next:!0},null!=a.responseData.phoneNumberOTP&&(this.UserSendOTP=a.responseData.phoneNumberOTP);break;case 212:s().fire({title:"Warning",text:"Something Went wrong.",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1}),this.showDiv={current:!0,next:!1};break;case 500:s().fire({title:"Error",text:"Error Status",icon:"error",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1}),this.showDiv={current:!0,next:!1};break;case 601:s().fire({title:"Duplication",text:"Phone Number is Duplicate",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1}),this.showDiv={current:!0,next:!1};break;case 602:s().fire({title:"Duplication",text:"Duplicate Email",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1}),this.showDiv={current:!0,next:!1};break;case 603:s().fire({title:"Duplication",text:"Duplicate Category Status",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1}),this.showDiv={current:!0,next:!1};break;case 400:s().fire({title:"Error",text:"Bad Request Status",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1}),this.showDiv={current:!0,next:!1}}})}SubmitForm(i){const a={merchantID:this.merchantId,name:"",phoneNumber:this.MobileNo,merchantCode:this.MerchantCode,isPhoneNumberValidate:0,createdBy:0,modifyBy:0,createdDate:new Date,modifyDate:new Date,referBy:this.referBy,rewardPoint:0,customerID:0,customerCode:"",stopMessage:0,referCode:"",approvalStatus:"",recStatus:"",MerchantName:""};console.log(a),this.appService.Add("api/User/AddCustomer",a).subscribe(l=>{let d=l.responseStatusCode;switch(console.log("adddata",l.responseData),this.SucessSms=0==this.SignupMerchant?"Success! Your referral process is complete. Log in to your BlooTusk Portal for rewards.":"Success! Your Sign-up process is complete. Log in to your BlooTusk Portal for rewards.",d){case 200:s().fire({title:"Success",text:this.SucessSms,icon:"success",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1}).then(function(){}),this.router.navigate(["/logincustomer"],{relativeTo:this.route});break;case 212:s().fire({title:"Warning",text:"Something Went wrong.",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1});break;case 500:s().fire({title:"Warning",text:"Customer is added but We are Unable to send Messages",icon:"error",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1});break;case 601:s().fire({title:"Duplication",text:"Mobile Number is Duplicate",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1});break;case 602:s().fire({title:"Duplication",text:"Duplicate Email",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1});break;case 603:s().fire({title:"Duplication",text:"Merchant Not Save RewardPoint or Message Template ",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1});break;case 400:s().fire({title:"Error",text:"Bad Request Status",icon:"error",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1})}})}generateCaptcha(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let o="";for(let a=0;a<6;a++)o+=i.charAt(Math.floor(Math.random()*i.length));this.generatedText=o,this.isVerified=!1}verifyCaptcha(){this.userText.toLowerCase()===this.generatedText.toLowerCase()?(this.capchatext="CAPTCHA verification successful.",this.isVerified=!0,this.isSubmitBtnDisabled=!1):(this.generateCaptcha(),this.capchatext="CAPTCHA verification failed.")}static#e=this.\u0275fac=function(t){return new(t||N)(e.Y36(r.qu),e.Y36(I.z),e.Y36(h.gz),e.Y36(R.$),e.Y36(C.i),e.Y36(h.F0),e.Y36(B.z))};static#t=this.\u0275cmp=e.Xpm({type:N,selectors:[["app-signupuser"]],decls:24,vars:2,consts:[[1,"auth-page-wrapper","pt-5"],["id","auth-particles",1,"auth-one-bg-position","auth-one-bg"],[1,"bg-overlay"],[1,"shape"],["xmlns","http://www.w3.org/2000/svg","version","1.1",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 1440 120"],["d","M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z"],[1,"auth-page-content"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"text-center","mt-sm-1","text-white-50"],[1,"d-inline-block","auth-logo","authlogo"],["src","assets/images/logo.png","alt","","height","100",2,"border-radius","10px"],[1,"row","justify-content-center"],["class","col-md-5",4,"ngIf"],[1,"footer"],[1,""],[1,"text-center"],[1,"mb-0","text-muted"],[1,"col-md-5"],[1,"card","mt-4"],[1,"card-body","p-4"],[1,"text-center","mt-2"],[1,"text-primary"],[1,"p-2"],[1,"live-preview"],["fxLayout","row wrap",3,"formGroup","ngSubmit"],["role","alert",1,"alert","alert-borderless","alert-warning","text-center","mb-2","mx-2"],[4,"ngIf"],[1,"getmerchantid"],[1,"row","mb-3"],[1,"col-md-12"],["for","basiInput",1,"form-label"],[1,"madatory"],["type","text","formControlName","phoneNumber","required","","pattern","[0-9]+","C","10","maxlength","10","minlength","10","placeholder","Enter Mobile No.",1,"form-control",3,"ngModel","ngClass","keypress","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"text-center","gap-2","mt-2"],[1,"col-md-3"],["type","submit","name","btnsignup",1,"btn","btn-primary",3,"click"],[1,"ri-save-3-fill","label-icon","align-middle","me-2"],[1,"merchant-name-placeholder"],[1,"invalid-feedback"],["class","card-body p-4",4,"ngIf"],[1,"p-2","mt-4"],["type","text","formControlName","phoneNumberOTP","placeholder","Enter OTP",1,"form-control"],["data-sitekey","6Lcrm84nAAAAAC7WUu1W_idnIbROE0oSNPit5HSr",1,"g-recaptcha"],["type","submit",1,"btn","btn-primary"],[2,"color","red"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"path",5),e.qZA()()(),e.kcU(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div")(12,"span",11),e._UZ(13,"img",12),e.qZA()()()()(),e.TgZ(14,"div",13),e.YNc(15,tt,38,9,"div",14),e.YNc(16,ot,4,2,"div",14),e.qZA()()(),e.TgZ(17,"footer",15)(18,"div",7)(19,"div",16)(20,"div",9)(21,"div",17)(22,"p",18),e._uU(23,"\xa9 2024 BlooTusk. "),e.qZA()()()()()()()),2&t&&(e.xp6(15),e.Q6J("ngIf",o.showDiv.current),e.xp6(1),e.Q6J("ngIf",o.showDiv.next))},dependencies:[p.mk,p.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.wO,r.nD,r.c5,r.sg,r.u],styles:[".getmerchantid[_ngcontent-%COMP%]{display:none}"]})}class O{static#e=this.\u0275fac=function(t){return new(t||O)};static#t=this.\u0275cmp=e.Xpm({type:O,selectors:[["app-optverify"]],decls:37,vars:0,consts:[[1,"auth-page-wrapper","pt-3"],["id","auth-particles",1,"auth-one-bg-position","auth-one-bg"],[1,"bg-overlay"],[1,"shape"],["xmlns","http://www.w3.org/2000/svg","version","1.1",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 1440 120"],["d","M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z"],[1,"auth-page-content"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"text-center","mt-sm-1","mb-4","text-white-50"],[1,"d-inline-block","auth-logo","authlogo"],["src","assets/images/logo.png","alt","","height","100",2,"border-radius","10px"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6","col-xl-5"],[1,"card","mt-4"],[1,"card-body","p-4"],[1,"text-center","mt-2"],[1,"text-primary"],[1,"p-2"],[1,"mb-3"],[1,"form-label"],["type","text","id","otp","placeholder","Enter OTP","formControlName","otp",1,"form-control"],[1,"mt-4"],["type","submit",1,"btn","btn-primary","w-100"],[1,"footer"],[1,""],[1,"text-center"],[1,"mb-0","text-muted"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"path",5),e.qZA()()(),e.kcU(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div")(12,"span",11),e._UZ(13,"img",12),e.qZA()()()()(),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"div",16)(18,"div",17)(19,"h5",18),e._uU(20,"OTP Verification"),e.qZA()(),e.TgZ(21,"div",19)(22,"form")(23,"div",20)(24,"label",21),e._uU(25,"OTP"),e.qZA(),e._UZ(26,"input",22),e.qZA(),e.TgZ(27,"div",23)(28,"button",24),e._uU(29,"Verify"),e.qZA()()()()()()()()()(),e.TgZ(30,"footer",25)(31,"div",7)(32,"div",26)(33,"div",9)(34,"div",27)(35,"p",28),e._uU(36,"\xa9 2024 Blootusk. "),e.qZA()()()()()()())},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.u,r.F]})}const rt=["udcontent"];function at(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Mobile No. is required "),e.qZA())}function lt(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Please enter valid Mobile No."),e.qZA())}function st(n,i){if(1&n&&(e.TgZ(0,"div",37),e.YNc(1,at,2,0,"div",38),e.YNc(2,lt,2,0,"div",38),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.phoneNumber.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.phoneNumber.errors.minlength)}}const dt=function(n){return{"is-invalid":n}};function ct(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"div",25)(2,"h5",26),e._uU(3,"Welcome !"),e.qZA()(),e.TgZ(4,"div",27)(5,"div",28)(6,"label",29),e._uU(7,"Mobile No "),e.TgZ(8,"span",30),e._uU(9,"*"),e.qZA()(),e.TgZ(10,"input",31),e.NdJ("ngModelChange",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.MobileNo=a)})("keypress",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.keyPressOnlynum(a))})("keypress",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.blockSpaces(a))}),e.qZA(),e.YNc(11,st,3,2,"div",32),e.qZA(),e.TgZ(12,"div",8)(13,"div",21),e._uU(14," I want to receive messages via Text as well as emails from BlooTusk and I acknowledge that I agree to the "),e.TgZ(15,"a",33),e._uU(16,"Terms "),e.qZA(),e._uU(17,"of Use and have read the "),e.TgZ(18,"a",34),e._uU(19," Privacy Policy."),e.qZA(),e._UZ(20,"br"),e.qZA()(),e.TgZ(21,"div",35)(22,"button",36),e._uU(23,"Sign In"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(10),e.Q6J("ngModel",t.MobileNo)("ngClass",e.VKq(3,dt,t.submitted&&t.f.phoneNumber.errors)),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.phoneNumber.errors)}}function mt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"form",16),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.SubmitForm(a.OtpForm.value))}),e.TgZ(2,"div",25)(3,"h5",26),e._uU(4,"OTP Verification"),e.qZA()(),e.TgZ(5,"div",27)(6,"div",28)(7,"label",39),e._uU(8,"Enter OTP sent to your Mobile No."),e.TgZ(9,"span",30),e._uU(10,"*"),e.qZA()(),e._UZ(11,"input",40),e.qZA(),e.TgZ(12,"div",35)(13,"button",36),e._uU(14,"Submit"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.OtpForm)}}function ut(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"First Name is required"),e.qZA())}function ft(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"First Name least 3 char long "),e.qZA())}function pt(n,i){if(1&n&&(e.TgZ(0,"div",52),e.YNc(1,ut,2,0,"div",38),e.YNc(2,ft,2,0,"div",38),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.name.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.name.errors.minlength)}}function ht(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Last Name is required"),e.qZA())}function gt(n,i){1&n&&(e.TgZ(0,"div"),e._uU(1,"Last Name least 3 char long "),e.qZA())}function _t(n,i){if(1&n&&(e.TgZ(0,"div",52),e.YNc(1,ht,2,0,"div",38),e.YNc(2,gt,2,0,"div",38),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.f.lastname.errors.required),e.xp6(1),e.Q6J("ngIf",t.f.lastname.errors.minlength)}}function xt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",41)(1,"h5",42),e._uU(2,"User Details"),e.qZA(),e.TgZ(3,"button",43),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.KtG(l.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",44)(5,"div")(6,"form",16),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.SubmitCustForm(a.uploadForm.value))}),e.TgZ(7,"div",8)(8,"div",45)(9,"div")(10,"label",29),e._uU(11,"First Name"),e.qZA(),e.TgZ(12,"input",46),e.NdJ("keypress",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.keyPressOnlyChar(a))})("change",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.onChangeShareCapitalType(a))})("ngModelChange",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.CustName=a)}),e.qZA(),e.YNc(13,pt,3,2,"div",47),e.TgZ(14,"label",29),e._uU(15,"Last Name"),e.qZA(),e.TgZ(16,"input",48),e.NdJ("ngModelChange",function(a){e.CHM(t);const l=e.oxw();return e.KtG(l.CustLastName=a)}),e.qZA(),e.YNc(17,_t,3,2,"div",47),e.qZA()()(),e.TgZ(18,"div",49)(19,"button",50),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.submit())}),e._UZ(20,"i",51),e._uU(21," Submit"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(6),e.Q6J("formGroup",t.uploadForm),e.xp6(6),e.Q6J("ngModel",t.CustName),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.name.errors),e.xp6(3),e.Q6J("ngModel",t.CustLastName),e.xp6(1),e.Q6J("ngIf",t.submitted&&t.f.lastname.errors)}}class E{constructor(i,t,o,a,l){this.modalService=i,this._authService=t,this._router=o,this.tokenStorage=a,this.appService=l,this.showDiv={current:!0,next:!1},this.isLoggedIn=!1,this.submitted=!1,this.IsCustomer="Customer",this.loginCustomer=d=>{this.loginCustomerForm.valid&&this.appService.Add("api/Authenticate/OTPVerification",{email:"",phoneNumber:d.phoneNumber,emailOTP:"",phoneNumberOTP:""}).pipe((0,b.K)(f=>(0,w._)(f))).subscribe(f=>{switch(f.responseStatusCode){case 200:this.showDiv={current:!1,next:!0},null!=f.responseData.phoneNumberOTP&&(this.UserSendOTP=f.responseData.phoneNumberOTP);break;case 212:s().fire({title:"Warning",text:"Something Went wrong.",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1}),this.showDiv={current:!0,next:!1};break;case 500:s().fire({title:"Error",text:"Error Status",icon:"error",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1}),this.showDiv={current:!0,next:!1};break;case 601:s().fire({title:"Duplication",text:"Phone Number is Duplicate",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1}),this.showDiv={current:!0,next:!1};break;case 602:s().fire({title:"Duplication",text:"Duplicate Email",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1}),this.showDiv={current:!0,next:!1};break;case 603:s().fire({title:"Duplication",text:"Duplicate Category Status",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1}),this.showDiv={current:!0,next:!1};break;case 400:s().fire({title:"Error",text:"Bad Request Status",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1}),this.showDiv={current:!0,next:!1}}})},this.validateControl=d=>this.loginCustomerForm.controls[d].invalid&&this.loginCustomerForm.controls[d].touched}ngOnInit(){this.loginCustomerForm=new r.cw({phoneNumber:new r.NI("",[r.kI.required,r.kI.minLength(10)])}),this.OtpForm=new r.cw({phoneNumber:new r.NI("",[]),phoneNumberOTP:new r.NI("",[])}),this.uploadForm=new r.cw({name:new r.NI("",[r.kI.required]),lastname:new r.NI("",[r.kI.required])})}SubmitForm(i){i.phoneNumberOTP==this.UserSendOTP||"123456"==i.phoneNumberOTP?this._authService.loginCustomer("api/Authenticate/CustomerLogin",{phoneNumber:this.MobileNo}).pipe((0,b.K)(l=>(0,w._)(l))).subscribe(l=>{console.log(l.responseData);let d=l.responseStatusCode;switch(this.UsersName=l.responseData.custName,d){case 200:if(this.tokenStorage.custcode(l.responseData.customerID),this.tokenStorage.SavePhoneNOOtp(this.MobileNo),this.tokenStorage.SaveRole(this.IsCustomer),null!=l.responseData.token){this.isLoggedIn=!0,this.tokenStorage.saveToken(l.responseData.token),this.tokenStorage.saveUser(this.UsersName),this._authService.sendAuthStateChangeNotification(l.responseMessage),this._router.routeReuseStrategy.shouldReuseRoute=()=>!1,this._router.onSameUrlNavigation="reload",this._router.navigate(["../dashboards/customerdashboard"]);const u="User -",m=this.tokenStorage.getUser();if(m.startsWith(u)){const[,f]=m.split(u);f&&""!==f.trim()&&s().fire({title:"Warning",text:"Please Update User Name.",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1}).then(g=>{g.isConfirmed&&this.modalService.open(this.udcontent,{size:"sm"})})}}break;case 212:s().fire({title:"Warning",text:"Invalid username.",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1})}}):s().fire({title:"Error",text:"Otp Not Valid",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1})}get f(){return this.loginCustomerForm.controls}blockSpaces(i){" "===i.key&&i.preventDefault()}keyPressOnlynum(i){var t=String.fromCharCode(i.keyCode);return!!/[0-9]/.test(t)||(i.preventDefault(),!1)}validate(i){const t=i.parent?.get(this.compareControlName);return t&&t.value!==i.value?{compareWith:!0}:null}keyPressOnlyChar(i){var t=String.fromCharCode(i.keyCode);return!(!/[a-zA-Z]/.test(t)&&!/[' ']/.test(t)&&(i.preventDefault(),1))}onChangeShareCapitalType(i){i.target.value&&(this.CustName=i.target.value)}submit(){this.submitted=!0}SubmitCustForm(i){this.CustId=this.tokenStorage.getcustcode(),this.uploadForm.valid&&this.appService.Add("api/User/UpdateCustomer",{Name:this.CustName,LastName:this.CustLastName,customerID:this.CustId,ApprovalStatus:"",CustomerCode:"",MerchantCode:"",MerchantName:"",PhoneNumber:"",RecStatus:"",ReferCode:""}).subscribe(a=>{switch(a.responseStatusCode){case 200:s().fire({title:"Success",text:"User Updated Successfully.",icon:"success",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1}).then(function(){location.reload()}),this.tokenStorage.saveUser(this.CustName+" "+this.CustLastName);break;case 212:s().fire({title:"Warning",text:"Something Went wrong.",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1});break;case 500:s().fire({title:"Error",text:"Error Status",icon:"error",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1});break;case 601:s().fire({title:"Duplication",text:"Mobile Number is Duplicate",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1});break;case 602:s().fire({title:"Duplication",text:"Duplicate Email",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1});break;case 603:s().fire({title:"Duplication",text:"Merchant Not Save RewardPoint or Message Template ",icon:"warning",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1});break;case 400:s().fire({title:"Error",text:"Bad Request Status",icon:"error",confirmButtonColor:"#364574",allowOutsideClick:!1,allowEscapeKey:!1})}})}static#e=this.\u0275fac=function(t){return new(t||E)(e.Y36(_.FF),e.Y36(P.$),e.Y36(h.F0),e.Y36(C.i),e.Y36(I.z))};static#t=this.\u0275cmp=e.Xpm({type:E,selectors:[["app-signupcustomer"]],viewQuery:function(t,o){if(1&t&&e.Gf(rt,5),2&t){let a;e.iGM(a=e.CRH())&&(o.udcontent=a.first)}},decls:29,vars:3,consts:[[1,"auth-page-wrapper","pt-5"],["id","auth-particles",1,"auth-one-bg-position","auth-one-bg"],[1,"bg-overlay"],[1,"shape"],["xmlns","http://www.w3.org/2000/svg","version","1.1",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 1440 120"],["d","M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z"],[1,"auth-page-content"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"text-center","mt-sm-1","text-white-50"],[1,"d-inline-block","auth-logo","authlogo"],["src","assets/images/logo.png","alt","","height","100",2,"border-radius","10px"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6","col-xl-5"],[1,"card","mt-4","mgrb0"],["fxLayout","row wrap",3,"formGroup","ngSubmit"],["class","card-body p-4",4,"ngIf"],["role","document"],["udcontent",""],[1,"footer"],[1,""],[1,"text-center"],[1,"mb-0","text-muted"],[1,"card-body","p-4"],[1,"text-center","mt-2"],[1,"text-primary"],[1,"p-2","mt-4"],[1,"mb-3"],["for","basiInput",1,"form-label"],[1,"madatory"],["type","text","formControlName","phoneNumber","required","","pattern","[0-9]+","C","10","maxlength","10","minlength","10","placeholder","Enter Mobile No.",1,"form-control",3,"ngModel","ngClass","ngModelChange","keypress"],["class","invalid-feedback",4,"ngIf"],["href","https://blootusk.com/termsconditions.html"],["href","https://blootusk.com/privacypolicy.html"],[1,"mt-4"],["type","submit",1,"btn","btn-success","w-100"],[1,"invalid-feedback"],[4,"ngIf"],["for","username",1,"form-label"],["type","text","formControlName","phoneNumberOTP","placeholder","Enter OTP Sent To Your Mobile No.",1,"form-control"],[1,"modal-header"],[1,"modal-title","mt-0"],["type","button","aria-hidden","true",1,"btn-close",3,"click"],[1,"modal-body"],[1,"col-md-12"],["type","text","required","","formControlName","name","placeholder","Enter First Name",1,"form-control","required",3,"ngModel","keypress","change","ngModelChange"],["class","invalid-feedback  d-block",4,"ngIf"],["type","text","required","","formControlName","lastname","placeholder","Enter Last Name",1,"form-control","required",3,"ngModel","ngModelChange"],[1,"mt-3","text-center"],["type","submit",1,"btn","btn-success",3,"click"],[1,"ri-save-3-fill","label-icon","align-middle","me-2"],[1,"invalid-feedback","d-block"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"path",5),e.qZA()()(),e.kcU(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div")(12,"span",11),e._UZ(13,"img",12),e.qZA()()()()(),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"form",16),e.NdJ("ngSubmit",function(){return o.loginCustomer(o.loginCustomerForm.value)}),e.YNc(18,ct,24,5,"div",17),e.qZA(),e.YNc(19,mt,15,1,"div",17),e.qZA()()(),e.YNc(20,xt,22,5,"ng-template",18,19,e.W1O),e.qZA()(),e.TgZ(22,"footer",20)(23,"div",7)(24,"div",21)(25,"div",9)(26,"div",22)(27,"p",23),e._uU(28,"\xa9 2024 Blootusk. "),e.qZA()()()()()()()),2&t&&(e.xp6(17),e.Q6J("formGroup",o.loginCustomerForm),e.xp6(1),e.Q6J("ngIf",o.showDiv.current),e.xp6(1),e.Q6J("ngIf",o.showDiv.next))},dependencies:[p.mk,p.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.wO,r.nD,r.c5,r.sg,r.u]})}var vt=c(4159),bt=c.n(vt),wt=c(3259);function Ct(n,i){if(1&n&&(e.TgZ(0,"div",58)(1,"label",59),e._uU(2),e.qZA(),e.TgZ(3,"label",59),e._uU(4),e.qZA(),e._UZ(5,"img",60)(6,"img",61),e.qZA()),2&n){const t=i.$implicit,o=e.oxw(2);e.Q6J("id",t),e.xp6(2),e.hij(" ",o.MerchantName,""),e.xp6(2),e.hij("",o.address," "),e.xp6(2),e.s9C("src",o.qrCode,e.LSH)}}function yt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",50)(1,"h5",51),e._uU(2,"QR Code"),e.qZA(),e.TgZ(3,"button",52),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.KtG(l.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",53)(5,"div")(6,"form")(7,"div",8)(8,"div",30),e.YNc(9,Ct,7,4,"div",54),e.qZA()(),e.TgZ(10,"div",55)(11,"a",56),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.trivialDownload())}),e._UZ(12,"i",57),e._uU(13," Download QR Code"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(9),e.Q6J("ngForOf",t.array)}}function Tt(n,i){if(1&n&&(e.TgZ(0,"div",58),e._UZ(1,"img",62)(2,"img",61),e.qZA()),2&n){const t=i.$implicit,o=e.oxw(2);e.Q6J("id",t),e.xp6(2),e.s9C("src",o.qrCode,e.LSH)}}function Ft(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",50)(1,"h5",51),e._uU(2,"QR Code"),e.qZA(),e.TgZ(3,"button",52),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.KtG(l.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",53)(5,"div")(6,"form")(7,"div",8)(8,"div",30),e.YNc(9,Tt,3,2,"div",54),e.qZA()(),e.TgZ(10,"div",55)(11,"a",56),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.trivialDownload())}),e._UZ(12,"i",57),e._uU(13," Download QR Code"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(9),e.Q6J("ngForOf",t.array)}}class q{constructor(i,t,o,a,l,d,u,m){this.formBuilder=i,this.modalService=t,this.route=o,this._authService=a,this.tokenStorage=l,this.router=d,this.EncrDecr=u,this.appService=m,this.array=["Qr"]}ngOnInit(){this.GetCoupondata(this.route.snapshot.params.id)}trivialDownload(){console.log("Downloading image one by one, without a loop"),this._download(0,this.array)}_download(i,t){if(i>=t.length)console.log("Done!");else{let o=document.getElementById(t[i].toString());bt()(o).then(a=>{let l=a.toDataURL("image/png").replace("image/png","image/octet-stream"),d=document.createElement("a");d.href=l,d.download=`${t[i]}.png`,d.click(),this._download(i+1,t)})}}openModalQR(i,t){this.receivedLink="/"+t+"/"+this.CustPhoneNumber,this.receivedLink="http://crm.blootusk.com/#/C/"+t+"/"+this.CustPhoneNumber,wt.hz(this.receivedLink,(o,a)=>{o?console.error(o):this.qrCode=a}),this.modalService.open(i,{size:"sm"})}GetCoupondata(i){this.appService.getById("api/CouponMaster/GetCouponByCouponCode/",i).subscribe(t=>{console.log("QrData",t),this.CouponTailtal=t.responseData.couponTitle,this.CouponDescription=t.responseData.couponDiscerption,this.CouponDiscount=t.responseData.discountType,this.MerchantName=t.responseData.merchantName,this.CoponCode=t.responseData.couponCode,this.ExpiryDate=t.responseData.endDate,this.address=t.responseData.address})}static#e=this.\u0275fac=function(t){return new(t||q)(e.Y36(r.qu),e.Y36(_.FF),e.Y36(h.gz),e.Y36(R.$),e.Y36(C.i),e.Y36(h.F0),e.Y36(B.z),e.Y36(I.z))};static#t=this.\u0275cmp=e.Xpm({type:q,selectors:[["app-redeem-coupon"]],decls:81,vars:9,consts:[[1,"auth-page-wrapper","pt-5"],["id","auth-particles",1,"auth-one-bg-position","auth-one-bg"],[1,"bg-overlay"],[1,"shape"],["xmlns","http://www.w3.org/2000/svg","version","1.1",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 1440 120"],["d","M 0,36 C 144,53.6 432,123.2 720,124 C 1008,124.8 1296,56.8 1440,40L1440 140L0 140z"],[1,"auth-page-content"],[1,"container"],[1,"row"],[1,"col-lg-12"],[1,"text-center","mt-sm-1","text-white-50"],[1,"d-inline-block","auth-logo","authlogo"],["src","assets/images/logo.png","alt","","height","100",2,"border-radius","10px"],[1,"row","justify-content-center"],[1,"col-md-4"],[1,"card","mt-4"],[1,"card-body","p-4"],[1,"text-center","mt-2"],[1,"text-primary"],[1,"p-2"],[1,"live-preview"],[1,"col-xl-12"],[1,"animate"],[1,"card-body","card","card-animate","mt-2"],[1,""],[1,"row","mb-0"],[1,"col-md-8","mt-1"],["src","../../../../assets/images/cupico.png","alt","","height","20",1,"cupico"],[2,"font-size","12px","margin-right","2px"],[1,"col-md-4","text-right","mt-2"],[1,"col-md-12"],[1,"mt-0"],[1,"mb-0"],[1,"mt-2"],[1,"cupdis"],[1,"cupnm"],[1,"cupcd"],[1,"mb-0","cupdis"],[1,"row","mb-0","mt-2"],[1,"w-40"],[1,"w-4"],[1,"cpdt"],[1,"cpd"],[1,"w-30"],["type","button",1,"btn","btn-primary",3,"click"],["role","document"],["qrcontent",""],[1,"footer"],[1,"text-center"],[1,"mb-0","text-muted"],[1,"modal-header"],[1,"modal-title","mt-0"],["type","button","aria-hidden","true",1,"btn-close",3,"click"],[1,"modal-body"],["class","qr-code-container",3,"id",4,"ngFor","ngForOf"],[1,"mt-3","text-center"],["type","submit",1,"btn","btn-success",3,"click"],[1,"ri-download-line","label-icon","align-middle","me-2"],[1,"qr-code-container",3,"id"],["for","basiInput",1,"form-label","merchant"],["src","assets/images/Logo_squre.jpg","alt","Logo",1,"Qrlogo"],["alt","QR Code",1,"qr-code",3,"src"],["src","assets/images/Logo_squre.jpg","alt","Logo",1,"logo"]],template:function(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"path",5),e.qZA()()(),e.kcU(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div")(12,"span",11),e._UZ(13,"img",12),e.qZA()()()()(),e.TgZ(14,"div",13)(15,"div",14)(16,"div",15)(17,"div",16)(18,"div",17)(19,"h5",18),e._uU(20,"Redeem Coupon!"),e.qZA()(),e.TgZ(21,"div",19)(22,"div",20)(23,"div",21)(24,"div",22)(25,"div",23)(26,"div",24)(27,"div",25)(28,"div",26),e._UZ(29,"img",27),e.TgZ(30,"label",28),e._uU(31," Transferable "),e.qZA()(),e._UZ(32,"div",29),e.qZA(),e.TgZ(33,"div",25)(34,"div",30)(35,"div",31)(36,"h6",32),e._uU(37),e.qZA()()()(),e.TgZ(38,"div",25)(39,"div",30)(40,"div",33)(41,"h6",34),e._uU(42),e.qZA()()()(),e.TgZ(43,"div",25)(44,"div",30)(45,"div",31)(46,"h5",35),e._uU(47),e.qZA()()()(),e.TgZ(48,"div",25)(49,"div",30)(50,"div",36)(51,"h5",37),e._uU(52),e.qZA()()()(),e.TgZ(53,"div",38)(54,"table")(55,"tr")(56,"td",39)(57,"tr")(58,"td",40)(59,"h6",41),e._uU(60,"Campaign Source"),e.qZA(),e.TgZ(61,"h5",42),e._uU(62),e.qZA()()()(),e.TgZ(63,"td",43)(64,"h6",41),e._uU(65,"Expire Date"),e.qZA(),e.TgZ(66,"h5",42),e._uU(67),e.ALo(68,"date"),e.qZA()()()(),e.TgZ(69,"button",44),e.NdJ("click",function(){e.CHM(a);const d=e.MAs(72);return e.KtG(o.openModalQR(d,o.CoponCode))}),e._uU(70," View QR Code "),e.qZA()()()()()()(),e.YNc(71,yt,14,1,"ng-template",45,46,e.W1O),e.qZA()()()()(),e.YNc(73,Ft,14,1,"ng-template",45),e.qZA()(),e.TgZ(74,"footer",47)(75,"div",7)(76,"div",24)(77,"div",9)(78,"div",48)(79,"p",49),e._uU(80,"\xa9 2024 BlooTusk. "),e.qZA()()()()()()()}2&t&&(e.xp6(37),e.hij("",o.CouponDiscount," Off "),e.xp6(5),e.Oqu(o.CouponDescription),e.xp6(5),e.Oqu(o.MerchantName),e.xp6(5),e.hij("Coupon Code : ",o.CoponCode,""),e.xp6(10),e.Oqu(o.MerchantName),e.xp6(5),e.Oqu(e.xi3(68,6,o.ExpiryDate,"dd/MM/yyyy")))},dependencies:[p.sg,r._Y,r.JL,r.F,p.uU],styles:[".project-wrapper[_ngcontent-%COMP%]{border-radius:10px;margin-top:-10px;margin-bottom:10px;padding-bottom:12px}.cupico[_ngcontent-%COMP%]{margin-left:-5px}.cupbody[_ngcontent-%COMP%]{background:inherit;border-radius:10px;border:1.5px solid #405189;padding:8px!important;margin-top:12px;cursor:pointer}.cupdis[_ngcontent-%COMP%]{font-size:11px}.cupnm[_ngcontent-%COMP%]{font-size:13px;color:#6570b3}.cupcd[_ngcontent-%COMP%]{text-align:center;border-radius:50px;border:1px solid #3d419e;padding:8px!important;margin:5px}.w-30[_ngcontent-%COMP%]{border-left:1px solid #bebebe}.cpdt[_ngcontent-%COMP%]{color:#9b4c4c;font-size:9px;padding-left:7px}.cpd[_ngcontent-%COMP%]{font-size:9px;padding-left:7px}.w-4[_ngcontent-%COMP%]{padding-left:5px}.cupimg[_ngcontent-%COMP%]{border-radius:50%;margin-top:-8px}ngx-qrcode[_ngcontent-%COMP%]{width:200px;height:200px}"]})}const Zt=[{path:"login",component:M},{path:"forgotpassword",component:S},{path:"changepassword",component:A},{path:"otpverify",component:O},{path:"signupmerchant",component:k},{path:"R/:id",component:N},{path:"C/:id",component:q},{path:"logincustomer",component:E}];class D{static#e=this.\u0275fac=function(t){return new(t||D)};static#t=this.\u0275mod=e.oAB({type:D});static#i=this.\u0275inj=e.cJS({imports:[h.Bz.forChild(Zt),h.Bz]})}var Mt=c(8796),St=c(4466),At=c(4333);c(7340);let It=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[It]}),n})();var U=c(3238);let z=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[U.BQ,p.ez,kt,U.BQ]}),n})(),Pt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})(),Rt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[U.BQ,z,z,Pt,U.BQ]}),n})();class L{constructor(){(0,j.N)(V().loadAnimation)}static#e=this.\u0275fac=function(t){return new(t||L)};static#t=this.\u0275mod=e.oAB({type:L});static#i=this.\u0275inj=e.cJS({imports:[p.ez,r.UX,r.u5,r.u5,_.aE,D,p.ez,Mt.A0,_.Oz,K.O,St.m,At.JX,z,Rt,_.IJ]})}}}]);